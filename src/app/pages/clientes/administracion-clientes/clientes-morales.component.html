<div class="row">
  <div class="col-12">
    <div class="card card-body">
    <h3 class="text-center mayuscula">Administraci&oacute;n {{lblClientes}}</h3>
    <form [formGroup]="formEncabezado">
      <div class="row">
        <div class="col-md-2">
          <mat-label class="mayuscula">N&uacute;mero de {{lblCliente}}</mat-label><br>
          <input matInput class="borderNegrita" formControlName="numCliente" placeholder="0" [readonly]="true" >
        </div>
        <div class="col-md-5">
          <mat-label class="mayuscula">{{lblCliente}}</mat-label><br>
          <input  matInput class="col-md-12 borderNegrita marLeft" formControlName="cliente" value=""  [readonly]="true">
        </div>
        <div class="col-md-1">
          <button mat-icon-button color="primary" matTooltip="Buscar Cliente" (click)="buscarCl(0)">
            <mat-icon>search</mat-icon>
          </button>
        </div>
        <div class="col-md-2">
          <mat-label>Perfil riesgo</mat-label><br>
          <input class="borderNegrita" matInput value="" formControlName="perfilRiesgo" [readonly]="true" placeholder="Riesgo"
          style="font-size:18px;"
              [style.color]="this.formEncabezado.get('perfilRiesgo').value === 'RIESGO BAJO' ? 'green' : 'red'">
        </div>
        <div class="col-md-2">
          <mat-label>Fecha Solicitud</mat-label><br>
          <input matInput  class="borderNegrita" formControlName="fechSolicitud" [readonly]="true" type="text" placeholder="Fecha Solicitud" max="2100-01-01">
        </div>

        <!--Primer linea -->
        <div class="col-md-2">
          <mat-label>N&uacute;mero solicitud</mat-label><br>
          <input matInput  class="borderNegrita" value="" formControlName="numSolicitud" [readonly]="true" placeholder="0">
        </div>
        <div class="col-md-6">
          <mat-label class="mayuscula">Tipo {{lblCliente}}</mat-label><br>
          <input matInput  class="borderNegrita" value="" formControlName="tipoCliente" [readonly]="true" placeholder="">
        </div>
        <div class="col-md-2">
          <mat-label>Estatus</mat-label><br>
          <input matInput value=""  class="borderNegrita" formControlName="estatusAct" [readonly]="true" placeholder="Estatus actual">
        </div>
        <br>
      </div><!-- row -->
    </form>
  </div>
</div>
  <!--12 card-->
</div><!-- row -->
<br>
<div class="row">
  <div class="col-md-4">
    <div class="card card-body">
    <h2 class="text-center mayuscula">{{lblClientes}}</h2>
  </div>
</div>
  <div class="col-md-8">
    <div class="card card-body">
    <div class="row">

      <div class="col-md-6">
        <h2 class="text-center">{{nombreTab}} </h2>
      </div>

      <div class="col-md-6">
        <div class="row">
      <div class="col-2" *ngIf="clienteID == 0">
        <button mat-fab color="primary"  matTooltip="Guardar" (click)="crudCliente(1)">
          <mat-icon>done_outline</mat-icon>
        </button>
      </div>
      <div class="col-2 " *ngIf="clienteID > 0">
        <button mat-fab [disabled]="btnActualizar" matTooltip="Editar" color="primary" (click)="crudCliente(2)">
          <mat-icon >create</mat-icon>
        </button>
      </div>
      <div class="col-2">
        <button mat-fab color="primary" matTooltip="Nuevo" (click)="cargarCombos()">
          <mat-icon >restore_page</mat-icon>
        </button>
      </div>
    </div>
    </div>

    </div>
  </div>
  </div>
</div>
<div class="row">
  <div class="col-12">
    <div class="card card-body">
    <br>
    <mat-tab-group [selectedIndex]="tabIndex" (selectedTabChange)="tabSeleccionada($event)" backgroundColor="primary" mat-align-tabs="start">
      <mat-tab [disabled]="datoGeneralTab" label="Cliente Moral">
        <div class="card card-body">
          <div class="row">
            <div class="col-md-3">
              <mat-form-field class="full-width" appearance="outline">
                <mat-label >Empresa</mat-label>
                <mat-icon matSuffix>apartment</mat-icon>
                <input type="text" placeholder="Empresa" matInput [formControl]="clienteMoralID"
                  [matAutocomplete]="empresaTCl">
                <mat-autocomplete autoActiveFirstOption [displayWith]="mostrarEmpresaCl" #empresaTCl="matAutocomplete"
                  (optionSelected)="seleccionClMoral($event)">
                  <mat-option *ngFor="let optione of opcionesEmpresa | async" [value]="optione">
                    {{optione.nombreComercial}}
                  </mat-option>
                </mat-autocomplete>
                <ng-template ngFor let-error [ngForOf]="validacionesMorales.clienteMoralID" ngProjectAs="mat-error">
                  <mat-error *ngIf="clienteMoralID.hasError(error.type)" >
                      <strong> {{error.message}}</strong>
                  </mat-error>                  
                </ng-template>
              </mat-form-field>
            </div>
            <div class="col-md-2">
              <button mat-mini-fab (click)="agregarEmpresa()" color="primary">
                <mat-icon matTooltip="Agregar empresa"> add_business </mat-icon>
              </button>
            </div>
            <div class="col-md-7"></div>
            <div class="col-md-3">
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Nombre comercial</mat-label>
                <input [formControl]="nomComercial" [readonly]="true" matInput placeholder="">
              </mat-form-field>
            </div>
            <div class="col-md-3">
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Razon Social</mat-label>
                <textarea [formControl]="rSocial" [readonly]="true" matInput placeholder=""></textarea>
              </mat-form-field>
            </div>
            <div class="col-md-3">
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>RFC</mat-label>
                <input [formControl]="rfcEm" [readonly]="true" matInput placeholder="">
                <mat-icon matSuffix>business</mat-icon>
              </mat-form-field>
            </div>
            <div class="col-md-3">
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Representante</mat-label>
                <input [formControl]="repreEmp" [readonly]="true" matInput placeholder="">
                <mat-icon matSuffix>emoji_people</mat-icon>
              </mat-form-field>
            </div>
          </div>
        </div>
      </mat-tab>
      <mat-tab [disabled]="perfilTab" label="Perfil Transaccional">
        <div class="card card-body">
          <br>
          <form [formGroup]="formPerfilTransacional">
            <div class="row">
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Fecha constituci&oacute;n</mat-label>
                  <input matInput [matDatepicker]="fC" formControlName="fechConst" [readonly]="true">
                  <mat-datepicker-toggle matSuffix [for]="fC"></mat-datepicker-toggle>
                  <mat-datepicker #fC></mat-datepicker>
                  <ng-template ngFor let-error [ngForOf]="validacionesMorales.fechConst" ngProjectAs="mat-error">
                    <mat-error *ngIf="formPerfilTransacional.get('fechConst').hasError(error.type)" >
                        <strong> {{error.message}}</strong>
                    </mat-error>                  
                  </ng-template>
                </mat-form-field>
              </div>
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>No. Acta consitutiva</mat-label>
                  <input matInput formControlName="noActa" placeholder="No. de acta constitutiva">
                </mat-form-field>
              </div>
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>No. de Escritutas ó Folio de poder</mat-label>
                  <input matInput formControlName="noFolio" placeholder="No. de Folio o Escritutas">
                </mat-form-field>
              </div>
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>No. de Registro p&uacute;blico de propiedad</mat-label>
                  <input matInput formControlName="regPublico" placeholder="Registro público">
                </mat-form-field>
              </div>
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Porcentaje de acciones</mat-label>
                  <input matInput formControlName="porcentajeAcc" placeholder="0%">
                  <ng-template ngFor let-error [ngForOf]="validacionesMorales.porcentajeAcc" ngProjectAs="mat-error">
                    <mat-error *ngIf="formPerfilTransacional.get('porcentajeAcc').hasError(error.type)" >
                        <strong> {{error.message}}</strong>
                    </mat-error>                  
                  </ng-template>
                </mat-form-field>
              </div>
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label> ¿A Cuanto Ascienden sus Activos?</mat-label>
                  <input matInput formControlName="activos" placeholder="0.0">
                </mat-form-field>
              </div>
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>No. de serie e.Firma</mat-label>
                  <input matInput formControlName="efirma" placeholder="">
                </mat-form-field>
              </div>
              <!--Perfil-->
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Maneja Cuentas Bancarias</mat-label>
                  <mat-select formControlName="manejaCuentas" multiple>
                    <mat-option *ngFor="let manejaCuentas of listaManejoCtas" [value]="manejaCuentas">
                      {{manejaCuentas.descripcion}}
                    </mat-option>
                  </mat-select>
                  <mat-icon matSuffix>card_membership</mat-icon>
                </mat-form-field>
              </div>

              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Finalidad de la Cuenta</mat-label>
                  <mat-select formControlName="finalidadesCuenta" multiple>
                    <mat-option *ngFor="let finalidadesCuenta of listaFinalidadCta" [value]="finalidadesCuenta">
                      {{finalidadesCuenta.descripcion}}
                    </mat-option>
                  </mat-select>
                  <mat-icon matSuffix>payments</mat-icon>
                  <ng-template ngFor let-error [ngForOf]="validacionesMorales.finalidadesCuenta" ngProjectAs="mat-error">
                    <mat-error *ngIf="formPerfilTransacional.get('finalidadesCuenta').hasError(error.type)" >
                        <strong> {{error.message}}</strong>
                    </mat-error>                  
                  </ng-template>
                </mat-form-field>
              </div>
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>¿Porqu&eacute; medio se entero?
                  </mat-label>
                  <mat-select formControlName="medioEntero" name="medioEntero">
                    <mat-option *ngFor="let medioEntero of listaMedioDifusion" [value]="medioEntero">
                      {{medioEntero.descripcion}}
                    </mat-option>
                  </mat-select>
                  <mat-icon matSuffix>subscriptions</mat-icon>
                  <ng-template ngFor let-error [ngForOf]="validacionesMorales.medioEntero" ngProjectAs="mat-error">
                    <mat-error *ngIf="formPerfilTransacional.get('medioEntero').hasError(error.type)" >
                        <strong> {{error.message}}</strong>
                    </mat-error>                  
                  </ng-template>
                </mat-form-field>
              </div>

              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Periodicidad de Movimientos</mat-label>
                  <mat-select formControlName="periodicidadMovimientos" name="periodicidadMovimientos">
                    <mat-option *ngFor="let periodicidadMovimientos of listaTipoPlazo"
                      [value]="periodicidadMovimientos">
                      {{periodicidadMovimientos.descripcion}}
                    </mat-option>
                  </mat-select>
                  <mat-icon matSuffix>money</mat-icon>
                  <ng-template ngFor let-error [ngForOf]="validacionesMorales.periodicidadMovimientos" ngProjectAs="mat-error">
                    <mat-error *ngIf="formPerfilTransacional.get('periodicidadMovimientos').hasError(error.type)" >
                        <strong> {{error.message}}</strong>
                    </mat-error>                  
                  </ng-template>
                </mat-form-field>
              </div>
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Actividad economica</mat-label>
                  <mat-icon matSuffix>work</mat-icon>
                  <input type="text" placeholder="Actividad SCIAN" matInput formControlName="actividadscian"
                    [matAutocomplete]="ocupacionSCIAN">
                  <mat-autocomplete autoActiveFirstOption #ocupacionSCIAN="matAutocomplete" (optionSelected)="seleccionScian($event)"
                    [displayWith]="mostrarOcupacion">
                    <mat-option *ngFor="let option of opcionesScian | async" [value]="option">
                      {{option.descripcion}}
                    </mat-option>
                  </mat-autocomplete>
                  <ng-template ngFor let-error [ngForOf]="validacionesMorales.actividadscian" ngProjectAs="mat-error">
                    <mat-error *ngIf="formPerfilTransacional.get('actividadscian').hasError(error.type)" >
                        <strong> {{error.message}}</strong>
                    </mat-error>                  
                  </ng-template>
                </mat-form-field>
              </div>
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Vinculos</mat-label>
                  <mat-select formControlName="vinculosAdicionales" multiple>
                    <mat-option *ngFor="let vinculosAdicionales of listaVinculosA" [value]="vinculosAdicionales"
                      class="full-width">
                      {{vinculosAdicionales.descripcion}}</mat-option>
                  </mat-select>
                  <mat-icon matSuffix>link</mat-icon>
                </mat-form-field>
              </div>
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Monto aprox.Ahorrar</mat-label>
                  <input matInput formControlName="montoAproxAhorrar" placeholder="Monto aprox. Ahorrar">
                  <mat-icon matSuffix>savings</mat-icon>
                  <ng-template ngFor let-error [ngForOf]="validacionesMorales.montoAproxAhorrar" ngProjectAs="mat-error">
                    <mat-error *ngIf="formPerfilTransacional.get('montoAproxAhorrar').hasError(error.type)" >
                        <strong> {{error.message}}</strong>
                    </mat-error>                  
                  </ng-template>
                </mat-form-field>
              </div>
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Movimientos por Mes</mat-label>
                  <input matInput formControlName="numeroOperacion" placeholder="Movimientos por Mes">
                  <mat-icon matSuffix>tag</mat-icon>
                  <ng-template ngFor let-error [ngForOf]="validacionesMorales.numeroOperacion" ngProjectAs="mat-error">
                    <mat-error *ngIf="formPerfilTransacional.get('numeroOperacion').hasError(error.type)" >
                        <strong> {{error.message}}</strong>
                    </mat-error>                  
                  </ng-template>
                </mat-form-field>
              </div>
              <!--Ingresos-->
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Comprobaci&oacute;n de Ingresos</mat-label>
                  <mat-select formControlName="comprobacionIngresos" aria-label="Default select example">
                    <mat-option *ngFor="let opt of opcionesComprobante" [value]="opt">
                      {{opt.desc}}
                    </mat-option>
                  </mat-select>
                  <ng-template ngFor let-error [ngForOf]="validacionesMorales.comprobacionIngresos" ngProjectAs="mat-error">
                    <mat-error *ngIf="formPerfilTransacional.get('comprobacionIngresos').hasError(error.type)" >
                        <strong> {{error.message}}</strong>
                    </mat-error>                  
                  </ng-template>
                </mat-form-field>
              </div>

              <div class="col-md-3 pr-1">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Tipo Ingreso</mat-label>
                  <mat-select formControlName="ingreso" name="ingreso">
                    <mat-option *ngFor="let ingreso of listaTipoIngreso" [value]="ingreso">
                      {{ingreso.descripcion}}
                    </mat-option>
                  </mat-select>
                  <mat-icon matSuffix>format_list_bulleted</mat-icon>
                  <ng-template ngFor let-error [ngForOf]="validacionesMorales.ingreso" ngProjectAs="mat-error">
                    <mat-error *ngIf="formPerfilTransacional.get('ingreso').hasError(error.type)" >
                        <strong> {{error.message}}</strong>
                    </mat-error>                  
                  </ng-template>
                </mat-form-field>
              </div>
              <div class="col-md-2 pr-1">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Monto</mat-label>
                  <input matInput formControlName="monto_ingreso" placeholder="Monto Ingreso">
                  <mat-icon matSuffix>money</mat-icon>
                  <ng-template ngFor let-error [ngForOf]="validacionesMorales.monto_ingreso" ngProjectAs="mat-error">
                    <mat-error *ngIf="formPerfilTransacional.get('monto_ingreso').hasError(error.type)" >
                        <strong> {{error.message}}</strong>
                    </mat-error>                  
                  </ng-template>
                </mat-form-field>
              </div>
              <div class="col-md-1 pr-1">
                <div class="form-group">
                  <label></label>
                  <button mat-mini-fab matTooltip="Agregar Ingreso" (click)="addListIngreso()" color="primary"
                    aria-hidden="true">
                    <mat-icon>plus_one</mat-icon>
                  </button>
                </div>
              </div>

              <!--egeresos-->

              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Tipo Egreso</mat-label>
                  <mat-select formControlName="tipo_egreso" name="tipo_egreso">
                    <mat-option *ngFor="let tipo_egreso of listaTipoEgreso" [value]="tipo_egreso">
                      {{tipo_egreso.descripcion}}
                    </mat-option>
                  </mat-select>
                  <mat-icon matSuffix>format_list_bulleted</mat-icon>
                  <ng-template ngFor let-error [ngForOf]="validacionesMorales.tipo_egreso" ngProjectAs="mat-error">
                    <mat-error *ngIf="formPerfilTransacional.get('tipo_egreso').hasError(error.type)" >
                        <strong> {{error.message}}</strong>
                    </mat-error>                  
                  </ng-template>
                </mat-form-field>
              </div>
              <div class="col-md-2">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Monto</mat-label>
                  <input matInput formControlName="monto_egreso" placeholder="Monto Egreso">
                  <mat-icon matSuffix>money</mat-icon>
                  <ng-template ngFor let-error [ngForOf]="validacionesMorales.monto_egreso" ngProjectAs="mat-error">
                    <mat-error *ngIf="formPerfilTransacional.get('monto_egreso').hasError(error.type)" >
                        <strong> {{error.message}}</strong>
                    </mat-error>                  
                  </ng-template>
                </mat-form-field>
              </div>
              <div class="col-md-1">
                <div class="form-group">
                  <label></label>
                  <button mat-mini-fab color="primary" (click)="addListEgreso()" aria-hidden="true">
                    <mat-icon>plus_one</mat-icon>
                  </button>
                </div>
              </div>
              <!--Listas -->

            </div>
            <!--row-->
          </form>
          <div class="row">
            <div class="col-md-6">
            <div class="col-md-12" *ngIf="listAddIngreso.length > 0">
              <h2 class="text-center"> Ingresos Agregados</h2>
              <mat-selection-list [multiple]="false">
                <mat-list-option *ngFor="let v_ingreso of listAddIngreso" [value]="v_ingreso">
                  <div class="row">
                    <div class="col-md-9">
                      {{v_ingreso[1]}}, ${{v_ingreso[2]}}
                    </div>
                    <div class="col-md-3">
                      <button *ngIf="clienteID == 0" (click)="quitarIngreso(i)" mat-mini-fab aria-label="delete"
                        aria-hidden="true" color="warn">
                        <mat-icon matSuffix>delete</mat-icon>
                      </button>
                      <button *ngIf="clienteID > 0" (click)="editarIngreso(i)" mat-mini-fab aria-label="edit"
                        aria-hidden="true" color="primary">
                        <mat-icon matSuffix>edit</mat-icon>
                      </button>
                    </div>
                  </div>
                </mat-list-option>
              </mat-selection-list>
            </div>
          </div>
            <!--lista egresos-->
            <div class="col-md-6" *ngIf="listAddEgreso.length > 0">
              <h2 class="text-center col-12"> Egresos Agregados</h2>
              <mat-selection-list [multiple]="false">
                <mat-list-option *ngFor="let v_tipo_egreso of listAddEgreso" [value]="v_tipo_egreso">
                  <div class="row">
                    <div class="col-md-9">
                      {{v_tipo_egreso[1]}}, ${{v_tipo_egreso[2]}}
                    </div>
                    <div class="col-md-3">
                      <button *ngIf="clienteID == 0" (click)="quitarEgreso(i)" mat-mini-fab aria-label="delete"
                        aria-hidden="true" color="warn">
                        <mat-icon matSuffix>delete</mat-icon>
                      </button>
                      <button *ngIf="clienteID > 0" (click)="editarEgreso(i)" mat-mini-fab aria-label="edit"
                        aria-hidden="true" color="primary">
                        <mat-icon matSuffix>edit</mat-icon>
                      </button>
                    </div>
                  </div>
                </mat-list-option>
              </mat-selection-list>
            </div>
          </div>
          <!--row de egresos-->
          <!--terminan listas-->
        </div>
        <!--card-->
      </mat-tab>
      <mat-tab [disabled]="refeTab" label="Referencias">
        <div class="card card-body">
          <!--Inicia referencias del cliente-->
          <mat-stepper linear #stepper>
            <mat-step [stepControl]="formReferencias" errorMessage="Datos generales requeridos.">
              <form [formGroup]="formReferencias">
                <ng-template matStepLabel>Datos generales</ng-template>
                <div class="row">
                  <div class="col-md-3">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Tipo de refencia</mat-label>
                      <mat-select formControlName="tpReferencia">
                        <mat-option *ngFor="let referencia of listaTipoReferencia" [value]="referencia">
                          {{referencia.descripcion}}
                        </mat-option>
                      </mat-select>
                      <mat-icon matSuffix>settings_accessibility</mat-icon>
                      <ng-template ngFor let-error [ngForOf]="validacionesMorales.tpReferencia" ngProjectAs="mat-error">
                        <mat-error *ngIf="formReferencias.get('tpReferencia').hasError(error.type)" >
                            <strong> {{error.message}}</strong>
                        </mat-error>                  
                      </ng-template>
                    </mat-form-field>
                  </div>
                  <div class="col-md-1">
                    <button mat-icon-button color="primary" (click)="buscarCl(1)" matTooltip="Buscar Cliente">
                      <mat-icon>search</mat-icon>
                    </button>
                  </div>
                  <div class="col-md-8"></div>
                  <div class="col-md-4">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Apellido Paterno</mat-label>
                      <input matInput formControlName="apePre" placeholder="Apellido Paterno">
                      <mat-icon matSuffix>boy</mat-icon>
                      <ng-template ngFor let-error [ngForOf]="validacionesMorales.apePre" ngProjectAs="mat-error">
                        <mat-error *ngIf="formReferencias.get('apePre').hasError(error.type)" >
                            <strong> {{error.message}}</strong>
                        </mat-error>                  
                      </ng-template>
                    </mat-form-field>
                  </div>
                  <div class="col-md-4">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Apellido Materno</mat-label>
                      <input matInput formControlName="apeMre" placeholder="Apellido Materno">
                      <mat-icon matSuffix>girl</mat-icon>
                    </mat-form-field>
                  </div>
                  <div class="col-md-4">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Nombre(s)</mat-label>
                      <input matInput formControlName="nombresRe" placeholder="Nombre(s)">
                      <mat-icon matSuffix>insert_emoticon</mat-icon>
                      <ng-template ngFor let-error [ngForOf]="validacionesMorales.nombresRe" ngProjectAs="mat-error">
                        <mat-error *ngIf="formReferencias.get('nombresRe').hasError(error.type)" >
                            <strong> {{error.message}}</strong>
                        </mat-error>                  
                      </ng-template>
                    </mat-form-field>
                  </div>
                  <div class="col-md-4">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Fecha de Nacimiento</mat-label>
                      <input matInput [matDatepicker]="fN" (dateChange)="calcularEdad()" formControlName="fechaNre" [readonly]="true">
                      <mat-datepicker-toggle matSuffix [for]="fN"></mat-datepicker-toggle>
                      <mat-datepicker #fN></mat-datepicker>
                      <ng-template ngFor let-error [ngForOf]="validacionesMorales.fechaNre" ngProjectAs="mat-error">
                        <mat-error *ngIf="formReferencias.get('fechaNre').hasError(error.type)" >
                            <strong> {{error.message}}</strong>
                        </mat-error>                  
                      </ng-template>
                    </mat-form-field>
                  </div>
                  <div class="col-md-2">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Edad</mat-label>
                      <input matInput formControlName="edadRe" readonly="true" placeholder="Edad">
                      <mat-icon matSuffix>tag</mat-icon>
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>G&eacute;nero</mat-label>
                      <mat-select formControlName="generoRe">
                        <mat-option *ngFor="let genero of listaGenero" [value]="genero">
                          {{genero.descripcion}}
                        </mat-option>
                      </mat-select>
                      <mat-icon matSuffix>transgender</mat-icon>
                      <ng-template ngFor let-error [ngForOf]="validacionesMorales.generoRe" ngProjectAs="mat-error">
                        <mat-error *ngIf="formReferencias.get('generoRe').hasError(error.type)" >
                            <strong> {{error.message}}</strong>
                        </mat-error>                  
                      </ng-template>
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Nacionalidad</mat-label>
                      <input type="text" placeholder="Nacionalidad" matInput formControlName="nacionalidadNacRef"
                        [matAutocomplete]="autoNacRe">
                      <mat-autocomplete autoActiveFirstOption #autoNacRe="matAutocomplete" [displayWith]="mostrarNac" (optionSelected)="opcionSeleccionadaNacionalidad($event,1)">
                        <mat-option *ngFor="let option of opcionesNac | async" [value]="option">
                          {{option.nacion}}
                        </mat-option>
                      </mat-autocomplete>
                      <mat-icon matSuffix>language</mat-icon>
                      <ng-template ngFor let-error [ngForOf]="validacionesMorales.nacionalidadNacRef" ngProjectAs="mat-error">
                        <mat-error *ngIf="formReferencias.get('nacionalidadNacRef').hasError(error.type)" >
                            <strong> {{error.message}}</strong>
                        </mat-error>                  
                      </ng-template>
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Ent.Federativa</mat-label>
                      <input type="text" placeholder="Entidad federativa" matInput formControlName="entFedeNacRe"
                        [matAutocomplete]="autoEstNacRe">
                      <mat-autocomplete autoActiveFirstOption #autoEstNacRe="matAutocomplete"
                        [displayWith]="mostrarEstado" (optionSelected)="opcionSeleccionadaEstNac($event)">
                        <mat-option *ngFor="let option of opcionesEstadoNac | async" [value]="option">
                          {{option.nombre_estado}}
                        </mat-option>
                      </mat-autocomplete>
                      <mat-icon matSuffix>map</mat-icon>
                      <ng-template ngFor let-error [ngForOf]="validacionesMorales.entFedeNacRe" ngProjectAs="mat-error">
                        <mat-error *ngIf="formReferencias.get('entFedeNacRe').hasError(error.type)" >
                            <strong> {{error.message}}</strong>
                        </mat-error>                  
                      </ng-template>
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Municipio Referencias</mat-label>
                      <input type="text" placeholder="Ciudad de nacimiento" matInput formControlName="mpNacRe"
                        [matAutocomplete]="autoCiuRe">
                      <mat-autocomplete autoActiveFirstOption #autoCiuRe="matAutocomplete" [displayWith]="mostrarCd">
                        <mat-option *ngFor="let option of opcionesCiudades | async" [value]="option">
                          {{option.nombre}}
                        </mat-option>
                      </mat-autocomplete>
                      <mat-icon matSuffix>map</mat-icon>
                      <ng-template ngFor let-error [ngForOf]="validacionesMorales.mpNacRe" ngProjectAs="mat-error">
                        <mat-error *ngIf="formReferencias.get('mpNacRe').hasError(error.type)" >
                            <strong> {{error.message}}</strong>
                        </mat-error>                  
                      </ng-template>
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>RFC</mat-label>
                      <input matInput formControlName="rfcRe" (change)="validaCurpRfc()" placeholder="RFC">
                      <mat-icon matSuffix>qr_code_2</mat-icon>
                      <ng-template ngFor let-error [ngForOf]="validacionesMorales.rfcRe" ngProjectAs="mat-error">
                        <mat-error *ngIf="formReferencias.get('rfcRe').hasError(error.type)" >
                            <strong> {{error.message}}</strong>
                        </mat-error>                  
                      </ng-template>
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>CURP</mat-label>
                      <input matInput formControlName="curpRe" (change)="validaCurpRfc()" placeholder="CURP">
                      <mat-icon matSuffix>how_to_reg</mat-icon>
                      <ng-template ngFor let-error [ngForOf]="validacionesMorales.curpRe" ngProjectAs="mat-error">
                        <mat-error *ngIf="formReferencias.get('curpRe').hasError(error.type)" >
                            <strong> {{error.message}}</strong>
                        </mat-error>                  
                      </ng-template>
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Parentesco</mat-label>
                      <mat-select formControlName="parentesco">
                        <mat-option *ngFor="let parentesco of listaParentesco" [value]="parentesco">
                          {{parentesco.descripcion}}
                        </mat-option>
                      </mat-select>
                      <mat-icon matSuffix>family_restroom</mat-icon>
                      <ng-template ngFor let-error [ngForOf]="validacionesMorales.parentesco" ngProjectAs="mat-error">
                        <mat-error *ngIf="formReferencias.get('parentesco').hasError(error.type)" >
                            <strong> {{error.message}}</strong>
                        </mat-error>                  
                      </ng-template>
                      <!--colum 5-->
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Estado Civil</mat-label>
                      <mat-select formControlName="civil">
                        <mat-option *ngFor="let civil of listaEstCivil" [value]="civil">
                          {{civil.descripcion}}
                        </mat-option>
                      </mat-select>
                      <mat-icon matSuffix>attachment</mat-icon>
                      <ng-template ngFor let-error [ngForOf]="validacionesMorales.civil" ngProjectAs="mat-error">
                        <mat-error *ngIf="formReferencias.get('civil').hasError(error.type)" >
                            <strong> {{error.message}}</strong>
                        </mat-error>                  
                      </ng-template>
                      <!--colum 5-->
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Porcentaje</mat-label>
                      <input matInput formControlName="porcentaje" placeholder="100%">
                      <mat-icon matSuffix>how_to_reg</mat-icon>
                      <ng-template ngFor let-error [ngForOf]="validacionesMorales.porcentaje" ngProjectAs="mat-error">
                        <mat-error *ngIf="formReferencias.get('porcentaje').hasError(error.type)" >
                            <strong> {{error.message}}</strong>
                        </mat-error>                  
                      </ng-template>
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Identificaci&oacute;n</mat-label>
                      <mat-select formControlName="tipoIRe">
                        <mat-option *ngFor="let identificacion of listaIdentificacion" [value]="identificacion">
                          {{identificacion.descripcion}}
                        </mat-option>
                      </mat-select>
                      <mat-icon matSuffix>badge</mat-icon>
                      <ng-template ngFor let-error [ngForOf]="validacionesMorales.tipoIRe" ngProjectAs="mat-error">
                        <mat-error *ngIf="formReferencias.get('tipoIRe').hasError(error.type)" >
                            <strong> {{error.message}}</strong>
                        </mat-error>                  
                      </ng-template>
                      <!--colum 5-->
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Clave</mat-label>
                      <input matInput formControlName="claveIdeRe" placeholder="">
                      <mat-icon matSuffix>perm_identity</mat-icon>
                      <ng-template ngFor let-error [ngForOf]="validacionesMorales.claveIdeRe" ngProjectAs="mat-error">
                        <mat-error *ngIf="formReferencias.get('claveIdeRe').hasError(error.type)" >
                            <strong> {{error.message}}</strong>
                        </mat-error>                  
                      </ng-template>
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Vigencia</mat-label>
                      <input matInput formControlName="vigenciaIdeRe" type="date" placeholder="" max="2100-01-01">
                      <ng-template ngFor let-error [ngForOf]="validacionesMorales.vigenciaIdeRe" ngProjectAs="mat-error">
                        <mat-error *ngIf="formReferencias.get('vigenciaIdeRe').hasError(error.type)" >
                            <strong> {{error.message}}</strong>
                        </mat-error>                  
                      </ng-template>
                    </mat-form-field>
                  </div>

                  <div class="col-md-3">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Celular</mat-label>
                      <input matInput formControlName="celRe" MaxLength="10" placeholder="">
                      <mat-icon matSuffix>phone_android</mat-icon>
                      <ng-template ngFor let-error [ngForOf]="validacionesMorales.celRe" ngProjectAs="mat-error">
                        <mat-error *ngIf="formReferencias.get('celRe').hasError(error.type)" >
                            <strong> {{error.message}}</strong>
                        </mat-error>                  
                      </ng-template>
                    </mat-form-field>
                  </div>
                  <div class="col-md-3">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Correo electr&oacute;nico</mat-label>
                      <input matInput formControlName="emailRe" type="email" placeholder="example@gmail.com">
                      <mat-icon matSuffix>contact_mail</mat-icon>
                    </mat-form-field>
                  </div>
                </div><!-- /.row formReferencias-->
                <div class="c">
                  <p>Continuar con domicilio</p>
                  <button mat-button matStepperNext>Siguiente</button>
                </div>
              </form>
              <!--termina formReferencias-->
            </mat-step>
            <mat-step [stepControl]="formDomicilioRefe" errorMessage="El domicilio es requerido.">
              <!--INICIA formDomicilioRefe Refencia-->
              <form [formGroup]="formDomicilioRefe">
                <ng-template matStepLabel>Domicilio</ng-template>
                <div class="row">
                  <!-------Filtro Nacionalidad -->
                  <div class="col-md-4">
                    <mat-form-field  appearance="outline" class="full-width">
                      <mat-label>Nacionalidad</mat-label>
                      <mat-icon matSuffix>map</mat-icon>
                      <input type="text" placeholder="Nacionalidad" matInput formControlName="nacionalidadRef"
                        [matAutocomplete]="autoNacionalidadR">
                      <mat-autocomplete autoActiveFirstOption #autoNacionalidadR="matAutocomplete"
                        [displayWith]="mostrarNac" (optionSelected)="opcionSeleccionadaNacionalidad($event,2)">
                        <mat-option *ngFor="let option of opcionesNacionalidad | async" [value]="option">
                          {{option.nacion}}
                        </mat-option>
                      </mat-autocomplete>
                      <ng-template ngFor let-error [ngForOf]="validacionesMorales.nacionalidadRef" ngProjectAs="mat-error">
                        <mat-error *ngIf="formDomicilioRefe.get('nacionalidadRef').hasError(error.type)" >
                            <strong> {{error.message}}</strong>
                        </mat-error>                  
                      </ng-template>
                    </mat-form-field>
                  </div>
                  <!----- Filtro estado -------->
                  <div class="col-md-4">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Estado</mat-label>
                      <mat-icon matSuffix>map</mat-icon>
                      <input type="text" placeholder="Nombre Estado" matInput formControlName="estadoR"
                        [matAutocomplete]="autoEstadoR">
                      <mat-autocomplete autoActiveFirstOption #autoEstadoR="matAutocomplete"
                        (optionSelected)="opcionSeleccionadaEstNac($event)" [displayWith]="mostrarEstado">
                        <mat-option *ngFor="let option of opcionesEstados | async" [value]="option">
                          {{option.nombre_estado}}
                        </mat-option>
                      </mat-autocomplete>
                      <ng-template ngFor let-error [ngForOf]="validacionesMorales.estadoR" ngProjectAs="mat-error">
                        <mat-error *ngIf="formDomicilioRefe.get('estadoR').hasError(error.type)" >
                            <strong> {{error.message}}</strong>
                        </mat-error>                  
                      </ng-template>
                    </mat-form-field>
                  </div>
                  <!-------Filtro Ciudad -->
                  <div class="col-md-4">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Ciudad</mat-label>
                      <mat-icon matSuffix>map</mat-icon>
                      <input type="text" placeholder="Nombre Ciudad" matInput formControlName="ciudadR"
                        [matAutocomplete]="autoCiudadR">
                      <mat-autocomplete autoActiveFirstOption #autoCiudadR="matAutocomplete"
                        (optionSelected)="opcionSelecCiudadR($event)" [displayWith]="mostrarCd">
                        <mat-option *ngFor="let option of opcionesCiudadesDomRe | async" [value]="option">
                          {{option.nombre}}
                        </mat-option>
                        <ng-template ngFor let-error [ngForOf]="validacionesMorales.ciudadR" ngProjectAs="mat-error">
                          <mat-error *ngIf="formDomicilioRefe.get('ciudadR').hasError(error.type)" >
                              <strong> {{error.message}}</strong>
                          </mat-error>                  
                        </ng-template>
                      </mat-autocomplete>
                    </mat-form-field>
                  </div>
                  <!-- Nombre Colonia -->
                  <div class="col-md-4">
                    <mat-form-field class="full-width" appearance="outline">
                      <mat-label>Colonia</mat-label>
                      <mat-icon matSuffix>map</mat-icon>
                      <input type="text" placeholder="Colonia" matInput formControlName="coloniaR"
                        [matAutocomplete]="autoColoniasR">
                      <mat-autocomplete autoActiveFirstOption #autoColoniasR="matAutocomplete"
                        [displayWith]="displayFnColonias" (optionSelected)="opcionSelecCol($event)">
                        <mat-option *ngFor="let option of opcionesColonias | async" [value]="option">
                          {{option.nombrecolonia}}
                        </mat-option>
                      </mat-autocomplete>
                    </mat-form-field>
                  </div>
                  <!----   Filtro Localidad-->
                  <div class="col-md-4">
                    <mat-form-field class="full-width" appearance="fill">
                      <mat-label>Localidad</mat-label>
                      <mat-icon matSuffix>map</mat-icon>
                      <input type="text" placeholder="Localidad" matInput formControlName="localidadR">
                    </mat-form-field>
                  </div>
                  <!--Se hace el campo de registro calle-->
                  <div class="col-md-4">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Calle</mat-label>
                      <input formControlName="calleR" matInput placeholder="Calle">
                      <mat-icon matSuffix>house</mat-icon>
                      <ng-template ngFor let-error [ngForOf]="validacionesMorales.calleR" ngProjectAs="mat-error">
                        <mat-error *ngIf="formDomicilioRefe.get('calleR').hasError(error.type)" >
                            <strong> {{error.message}}</strong>
                        </mat-error>                  
                      </ng-template>
                    </mat-form-field>
                  </div>
                  <!--Se hace el campo de registro entre calle 1-->
                  <div class="col-md-4">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Entre Calle 1</mat-label>
                      <input formControlName="entreCalle1R" matInput placeholder="Entre calle 1">
                      <mat-icon matSuffix>other_houses</mat-icon>
                      <ng-template ngFor let-error [ngForOf]="validacionesMorales.entreCalle1R" ngProjectAs="mat-error">
                        <mat-error *ngIf="formDomicilioRefe.get('entreCalle1R').hasError(error.type)" >
                            <strong> {{error.message}}</strong>
                        </mat-error>                  
                      </ng-template>
                    </mat-form-field>
                  </div>
                  <!--Se hace el campo de registro entre calle 2-->
                  <div class="col-md-4">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Entre Calle 2</mat-label>
                      <input formControlName="entreCalle2R" matInput placeholder="Entre calle 2">
                      <mat-icon matSuffix>other_houses</mat-icon>
                      <ng-template ngFor let-error [ngForOf]="validacionesMorales.entreCalle2R" ngProjectAs="mat-error">
                        <mat-error *ngIf="formDomicilioRefe.get('entreCalle2R').hasError(error.type)" >
                            <strong> {{error.message}}</strong>
                        </mat-error>                  
                      </ng-template>
                    </mat-form-field>
                  </div>
                  <!--Se hace el campo de registro de referencia -->
                  <div class="col-md-4">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Referencia</mat-label>
                      <input formControlName="referenciaR" matInput placeholder="A lado de...">
                      <mat-icon matSuffix>description</mat-icon>
                      <ng-template ngFor let-error [ngForOf]="validacionesMorales.referenciaR" ngProjectAs="mat-error">
                        <mat-error *ngIf="formDomicilioRefe.get('referenciaR').hasError(error.type)" >
                            <strong> {{error.message}}</strong>
                        </mat-error>                  
                      </ng-template>
                    </mat-form-field>
                  </div>
                  <!--Se hace el campo de numero exterior-->
                  <div class="col-md-2">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>N. Exterior</mat-label>
                      <input formControlName="numeroExteriorR" matInput placeholder="N. Exterior">
                      <mat-icon matSuffix>tag</mat-icon>
                      <ng-template ngFor let-error [ngForOf]="validacionesMorales.numeroExteriorR" ngProjectAs="mat-error">
                        <mat-error *ngIf="formDomicilioRefe.get('numeroExteriorR').hasError(error.type)" >
                            <strong> {{error.message}}</strong>
                        </mat-error>                  
                      </ng-template>
                    </mat-form-field>
                  </div>
                  <!--Se hace el campo de numero interior-->
                  <div class="col-md-2">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>N. Interior</mat-label>
                      <input formControlName="numeroInteriorR" matInput placeholder="N. Interior">
                      <mat-icon matSuffix>tag</mat-icon>
                    </mat-form-field>
                  </div>
                  <div class="col-md-2">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>C&oacute;digo postal</mat-label>
                      <input formControlName="cpRef" matInput placeholder="CP">
                      <mat-icon matSuffix>approval</mat-icon>
                    </mat-form-field>
                  </div>
                  <!--Se hace el combo de registro de arraigo -->
                  <div class="col-md-3">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Tiempo de Arraigo</mat-label>
                      <mat-icon matSuffix>calendar_today</mat-icon>
                      <mat-select formControlName="tiempoArraigoR" name="tiempoArraigo">
                        <mat-option *ngFor="let tiempoArraigo of listaTiempoArraigo" [value]="tiempoArraigo">
                          {{tiempoArraigo.cveGeneral}} / {{tiempoArraigo.descripcion}}
                        </mat-option>
                      </mat-select>
                      <ng-template ngFor let-error [ngForOf]="validacionesMorales.tiempoArraigoR" ngProjectAs="mat-error">
                        <mat-error *ngIf="formDomicilioRefe.get('tiempoArraigoR').hasError(error.type)" >
                            <strong> {{error.message}}</strong>
                        </mat-error>                  
                      </ng-template>
                    </mat-form-field>
                  </div>
                  <!--Se hace el campo de registro  latitud-->
                  <div class="col-md-3">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Latitud</mat-label>
                      <input formControlName="latitudR" matInput placeholder="Latitud">
                      <mat-icon matSuffix>location_on</mat-icon>
                    </mat-form-field>
                  </div>
                  <!--Se hace el campo de registro entre longitud-->
                  <div class="col-md-3">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Longitud</mat-label>
                      <input formControlName="longitudR" matInput placeholder="Longitud">
                      <mat-icon matSuffix>location_on</mat-icon>
                    </mat-form-field>
                  </div>
                  <!--Se hace el combo de otro  domicilio -->
                  <div class="col-md-3">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Domicilio</mat-label>
                      <mat-icon matSuffix>class</mat-icon>
                      <mat-select formControlName="jerarquiaR" name="jerarquia">
                        <mat-option *ngFor="let nivel of listaJerarquia" [value]="nivel">
                          {{nivel.cveGeneral}} / {{nivel.descripcion}}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                  <!--Se hace el campo de registro residencia extranjera-->
                  <div class="col-md-3">
                    <mat-slide-toggle formControlName="resExtranjeraR" color="primary">
                      Recidencia Extranjera
                    </mat-slide-toggle>
                  </div>
                </div>
                <div class="c">
                  <p>Continuar con empleo</p>
                  <button mat-button matStepperPrevious>Regresar</button>
                  <button mat-button matStepperNext>Siguiente</button>
                </div>
              </form>
              <!--Termina formDomicilio Refencia-->
            </mat-step>
            <mat-step>
              <!--Inicia formEmpleo Refencia-->
              <form [formGroup]="formEmpleo">
                <ng-template matStepLabel>Empleo</ng-template>
                <br>
                <div class="row">
                  <div class="col-md-4">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>¿Cuenta con empleo?</mat-label>
                      <mat-select aria-label="Default select example" (selectionChange)="SeleccionEmpleo($event)"
                        [formControl]="empleoReferenciaCtrl">
                        <mat-option *ngFor="let opt of opcionesComprobante" [value]="opt">
                          {{opt.desc}}
                        </mat-option>
                      </mat-select>
                      <ng-template ngFor let-error [ngForOf]="validacionesMorales.empleoReferenciaCtrl" ngProjectAs="mat-error">
                        <mat-error *ngIf="empleoReferenciaCtrl.hasError(error.type)" >
                            <strong> {{error.message}}</strong>
                        </mat-error>                  
                      </ng-template>
                    </mat-form-field>
                  </div>
                  <div *ngIf="cuentaCEmpleo===true" class="row">
                    <div class="col-md-4">
                      <mat-form-field class="full-width" appearance="outline">
                        <mat-label>Empresa</mat-label>
                        <mat-icon matSuffix>apartment</mat-icon>
                        <input type="text" placeholder="Empresa" matInput formControlName="empresaT"
                          [matAutocomplete]="empresaT">
                        <mat-autocomplete (optionSelected)="opcionEmpresaRefe($event)" autoActiveFirstOption
                          #empresaT="matAutocomplete" [displayWith]="mostrarEmpresa">
                          <mat-option *ngFor="let option of opcionesEmpresaEm | async" [value]="option">
                            {{option.nombreComercial}}
                          </mat-option>
                        </mat-autocomplete>
                        <ng-template ngFor let-error [ngForOf]="validacionesMorales.empresaT" ngProjectAs="mat-error">
                          <mat-error *ngIf="formEmpleo.get('empresaT').hasError(error.type)" >
                              <strong> {{error.message}}</strong>
                          </mat-error>                  
                        </ng-template>
                      </mat-form-field>
                    </div>
                    <div class="col-md-1">
                      <button mat-mini-fab (click)="agregarEmpresa()" color="primary">
                        <mat-icon matTooltip="Agregar empresa"> add_business </mat-icon>
                      </button>
                    </div>
                    <div class="col-md-3">
                      <mat-form-field appearance="outline" class="full-width">
                        <mat-label>Razon Social de la empresa</mat-label>
                        <textarea formControlName="razonSocial" [readonly]="true" matInput placeholder=""></textarea>
                      </mat-form-field>
                    </div>
                    <div class="col-md-4">
                      <mat-form-field appearance="outline" class="full-width">
                        <mat-label>RFC</mat-label>
                        <input formControlName="rfcEmpresa" [readonly]="true" matInput placeholder="">
                        <mat-icon matSuffix>business</mat-icon>
                      </mat-form-field>
                    </div>
                    <div class="col-md-4">
                      <mat-form-field appearance="outline" class="full-width">
                        <mat-label>Representante</mat-label>
                        <input formControlName="repreEmpresa" [readonly]="true" matInput placeholder="">
                        <mat-icon matSuffix>emoji_people</mat-icon>
                      </mat-form-field>
                    </div>
                    <div class="col-md-4">
                      <mat-form-field appearance="outline" class="full-width">
                        <mat-label>Contrato</mat-label>
                        <mat-select formControlName="contratoEm">
                          <mat-option *ngFor="let contrato of listaContrato" [value]="contrato">
                            {{contrato.descripcion}}
                          </mat-option>
                        </mat-select>
                        <mat-icon matSuffix>gavel</mat-icon>
                        <ng-template ngFor let-error [ngForOf]="validacionesMorales.contratoEm" ngProjectAs="mat-error">
                          <mat-error *ngIf="formEmpleo.get('contratoEm').hasError(error.type)" >
                              <strong> {{error.message}}</strong>
                          </mat-error>                  
                        </ng-template>
                      </mat-form-field>
                    </div>
                    <div class="col-md-4">
                      <mat-form-field appearance="outline" class="full-width">
                        <mat-label>Inicio a laborar</mat-label>
                        <input formControlName="inicioLabor" type="date" matInput placeholder="">
                        <ng-template ngFor let-error [ngForOf]="validacionesMorales.inicioLabor" ngProjectAs="mat-error">
                          <mat-error *ngIf="formEmpleo.get('inicioLabor').hasError(error.type)" >
                              <strong> {{error.message}}</strong>
                          </mat-error>                  
                        </ng-template>
                      </mat-form-field>
                    </div>
                    <!--Segunda fila empleo-->
                    <div class="col-md-3">
                      <mat-form-field appearance="outline" class="full-width">
                        <mat-label>Horario de entrada</mat-label>
                        <input formControlName="entrada" type="time" matInput placeholder="">
                        <ng-template ngFor let-error [ngForOf]="validacionesMorales.entrada" ngProjectAs="mat-error">
                          <mat-error *ngIf="formEmpleo.get('entrada').hasError(error.type)" >
                              <strong> {{error.message}}</strong>
                          </mat-error>                  
                        </ng-template>
                      </mat-form-field>
                    </div>
                    <div class="col-md-3">
                      <mat-form-field appearance="outline" class="full-width">
                        <mat-label>Horario de salida</mat-label>
                        <input formControlName="salida" matInput type="time" placeholder="">
                        <ng-template ngFor let-error [ngForOf]="validacionesMorales.salida" ngProjectAs="mat-error">
                          <mat-error *ngIf="formEmpleo.get('salida').hasError(error.type)" >
                              <strong> {{error.message}}</strong>
                          </mat-error>                  
                        </ng-template>
                      </mat-form-field>
                    </div>
                    <div class="col-md-3">
                      <mat-form-field appearance="outline" class="full-width">
                        <mat-label>Ocupaci&oacute;n</mat-label>
                        <mat-icon matSuffix>work</mat-icon>
                        <input type="text" placeholder="Ocupacion" matInput formControlName="ocupacion"
                          [matAutocomplete]="ocupacionSINCO">
                        <mat-autocomplete autoActiveFirstOption #ocupacionSINCO="matAutocomplete"
                          [displayWith]="mostrarSINCO">
                          <mat-option *ngFor="let option of opcionesSINCO | async" [value]="option">
                            {{option.descripcion}}
                          </mat-option>
                        </mat-autocomplete>
                        <ng-template ngFor let-error [ngForOf]="validacionesMorales.ocupacion" ngProjectAs="mat-error">
                          <mat-error *ngIf="formEmpleo.get('ocupacion').hasError(error.type)" >
                              <strong> {{error.message}}</strong>
                          </mat-error>                  
                        </ng-template>
                      </mat-form-field>
                    </div>
                    <div class="col-md-3">
                      <mat-form-field appearance="outline" class="full-width">
                        <mat-label>Observaciones</mat-label>
                        <textarea formControlName="descripcion" matInput placeholder=""></textarea>
                        <mat-icon matSuffix>description</mat-icon>
                      </mat-form-field>
                    </div>
                  </div>
                </div>
                <!--row-->
                <div class="c">
                  <button mat-button matStepperPrevious>Regresar</button>
                  <button mat-button (click)="agregarRelacion()">Agregar</button>
                </div>
              </form>
              <!--Termina formEmpleo Refencia-->
            </mat-step>
          </mat-stepper>
          <!--Tabla termina domicilios rferencias-->
          <div class="col-md-12" *ngIf="listAddReferencias.length > 0" id="tbl-referencias">
            <h2 class="text-center col-md-12"><strong> Referencias </strong></h2>
            <mat-divider class="col-md-12"> </mat-divider>
            <br>
            <div class="mat-elevation-z8 ">
              <table aria-label="Referencia">
                <thead>
                  <tr>
                    <th id="consecutivo">No.</th>
                    <th id="nombre">Nombre</th>
                    <th id="parentesco">Parentesco</th>
                    <th id="porcentaje">Porcentaje</th>
                    <th id="contacto">Contacto</th>
                    <th id="accionesRealizar">Acciones</th>
                  </tr>
                </thead>
                <!--Cuerpo tbl-->
                <tbody id="cuerpoTblDom">
                  <tr *ngFor="let ref of listAddReferencias;  let i=index;">
                    <td>{{i+1}}</td>
                    <td>{{ref[6]}} {{ref[7]}} {{ref[5]}}</td>
                    <td>{{parentescoRef.descripcion}}</td>
                    <td>{{ref[3]}}</td>
                    <td><strong>Tel.:</strong> {{ref[41]}} <strong>Correo:</strong> {{ref[42]}}</td>
                    <td>
                      <button (click)="editarRelacion(i)" mat-mini-fab color="primary" aria-label="Editar referencia">
                        <mat-icon>edit</mat-icon>
                      </button>
                      <button *ngIf="clienteID == 0" (click)="eliminarRelacion(i)" mat-mini-fab color="warn"
                        aria-label="Eliminar referencia">
                        <mat-icon>delete</mat-icon>
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <!--Tabla termina  rferencias-->
        </div>
        <!--card referencias-->
      </mat-tab>
      <!--Inicia Tab de Digitalización-->
      <mat-tab [disabled]="digitaTab" label="Digitalizaci&oacute;n">
        <div class="row">
          <div class="col-md-6" *ngIf="listaDocTipoSocios.length > 0">
            <h2 class="text-center col-12"> Documentos a Digitalizar</h2>
            <mat-selection-list [multiple]="false">
              <mat-list-option *ngFor="let documentos of listaDocTipoSocios" [value]="documentos">
                <div class="row">
                  <div class="col-10">
                    {{documentos.tipoDocumentoID.nombreDoc}}
                  </div>
                  <div class="col-2">
                    <input #digiInput hidden="true" type="file" [accept]="acceptFormatos(documentos)"
                      (change)="subirArchivo($event,documentos)" />
                    <button (click)="digiInput.click()" mat-mini-fab color="primary">
                      <mat-icon>file_upload</mat-icon>
                    </button>
                  </div>
                </div>
              </mat-list-option>
            </mat-selection-list>
          </div>
          <div class="col-md-6" *ngIf="listaDocAgregados.length > 0">
            <h2 class="text-center col-12"> Documentos Digitalizados</h2>
            <mat-selection-list [multiple]="false">
              <mat-list-option *ngFor="let documentos of listaDocAgregados" [value]="documentos">
                <div class="row">
                  <div class="col-10">
                    {{documentos[2]}}
                  </div>
                  <div class="col-2">
                    <button mat-mini-fab color="primary" (click)="openDialogDoc(documentos)">
                      <mat-icon>visibility</mat-icon>
                    </button>
                  </div>
                </div>
              </mat-list-option>
            </mat-selection-list>
          </div>
        </div>
      </mat-tab>
      <!--Finaliza Tab de digitalización-->
    </mat-tab-group>
  </div>
</div>
</div>