<div class="row">
    <div class="col-12">
        <div class="card card-body">
            <form [formGroup]="formArchivo">
            <div class="row">
                <div class="col-md-3">
                    <mat-form-field appearance="outline" class="full-width">
                        <mat-label>Empresa</mat-label>
                        <input formControlName="empresa" matInput placeholder="Empresa" [matAutocomplete]="cuenta">
                        <mat-autocomplete autoActiveFirstOption #cuenta="matAutocomplete" [displayWith]="displayEmpresa"
                            (optionSelected)="empresaSeleccionada($event.option)">
                            <mat-option *ngFor="let option of opcionesEmpresa | async" [value]="option">
                                {{option.numero_cliente}} {{option.nombre_comercial}}
                            </mat-option>
                        </mat-autocomplete>
                        <ng-template ngFor let-error [ngForOf]="validaciones.empresa" ngProjectAs="mat-error">
                            <mat-error *ngIf="formArchivo.get('empresa').hasError(error.type)">
                              <strong> {{error.message}}</strong>
                            </mat-error>
                        </ng-template>
                    </mat-form-field>
                </div>
                <div class="col-md-3">
                    <mat-form-field appearance="outline" class="full-width">
                        <mat-label class="mayuscula">Plantilla</mat-label>
                        <mat-select formControlName="plantilla" (selectionChange)="cargarEmpleados()">
                            <mat-option *ngFor="let plant of listaPlantilla" [value]="plant">
                                {{plant.nombre}}
                            </mat-option>
                        </mat-select>
                        <ng-template ngFor let-error [ngForOf]="validaciones.plantilla" ngProjectAs="mat-error">
                            <mat-error *ngIf="formArchivo.get('plantilla').hasError(error.type)">
                              <strong> {{error.message}}</strong>
                            </mat-error>
                        </ng-template>
                    </mat-form-field>
                </div>
                <div class="col-md-3">
                    <mat-form-field appearance="outline" class="full-width">
                        <mat-label >Concepto</mat-label>
                        <input matInput formControlName="concepto" placeholder="">
                        <mat-icon matSuffix>notes</mat-icon>
                        <ng-template ngFor let-error [ngForOf]="validaciones.concepto" ngProjectAs="mat-error">
                            <mat-error *ngIf="formArchivo.get('concepto').hasError(error.type)">
                              <strong> {{error.message}}</strong>
                            </mat-error>
                        </ng-template>
                    </mat-form-field>
                </div>
                <div class="col-md-2">
                    <button mat-raised-button color="primary" style="background-color: #1D6F42; color: white;" (click)="generarArchivo()"> 
                        <mat-icon matTooltip="Descargar">file_download</mat-icon> </button>
                </div>
            </div>
            </form>
        </div>
    </div>
</div>

<!--tabla--
<div class="row">
    <div class="col-12">
        <div class="card card-body">
            <--tbl--
            <div class="mat-elevation-z8 table-responsive">
                <table aria-label="Busqueda de nomina" mat-table [dataSource]="dataSourceNomina" matSort>
                    <-- No. Cuenta Column --
                    <ng-container matColumnDef="noCuenta">
                        <th id="cuenta" mat-header-cell *matHeaderCellDef>N&uacute;mero de cuenta </th>
                        <td mat-cell *matCellDef="let empresa">{{empresa.numero_cuenta}} </td>
                    </ng-container>
    
                    <!-- nombre Column --
                    <ng-container matColumnDef="nombre">
                        <th id="nombre" mat-header-cell style="padding: 16px;" *matHeaderCellDef>Nombre </th>
                        <td mat-cell style="padding: 16px;" *matCellDef="let empresa">{{empresa.empleado}}
                        </td>
                    </ng-container>
    
                    <!-- sueldo --
                    <ng-container matColumnDef="sueldo">
                        <th id="sueldo" style="padding: 16px;" mat-header-cell *matHeaderCellDef> Sueldo</th>
                        <td mat-cell style="padding: 16px;" *matCellDef="let empresa">{{empresa.sueldo | currency:'MXN'}}
                        </td>
                    </ng-container>
                    <!-- periodo --
                    <ng-container matColumnDef="periodo">
                        <th id="periodo" mat-header-cell *matHeaderCellDef> Periodo</th>
                        <td mat-cell *matCellDef="let empresa"> {{empresa.plazo}}
                        </td>
                    </ng-container>
                    <ng-container matColumnDef="plantilla">
                        <th id="plantilla" mat-header-cell *matHeaderCellDef> Plantilla</th>
                        <td mat-cell *matCellDef="let empresa"> {{empresa.plantilla}}
                        </td>
                    </ng-container>
    
    
                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row  *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>
                <mat-paginator fxFlex="100" #paginatorRef [length]="5" [pageSize]="5" [pageSizeOptions]="[5, 10, 25, 100]"
                showFirstLastButtons aria-label="Seleccionar pagina de plantillas">
            </mat-paginator>
            </div>
           

        </div>
    </div>
</div>-->