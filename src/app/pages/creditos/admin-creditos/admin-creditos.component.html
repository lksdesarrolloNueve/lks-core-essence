<div class="row">
    <div class="col-md-12">
        <div class="card card-body">
            <form [formGroup]="formAdminCreditos">
                <div class="row">
                    <!--Columna para la clave Movimiento Caja-->
                    <div class="col-md-3">
                        <mat-form-field appearance="outline" class="full-width">
                            <mat-label>Solicitud</mat-label>
                            <input formControlName="numSolicitud" matInput placeholder="Solicitud" [readonly]="true">
                            <mat-icon matSuffix><span class="material-icons-outlined">numbers</span>
                            </mat-icon>
                        </mat-form-field>
                    </div>
                    <div class="col-md-1">
                        <button color="primary" (click)="buscarSolicitud()" mat-mini-fab aria-label="Example icon-button with a heart icon">
                            <mat-icon matTooltip="Buscar Solicitud" >search</mat-icon>
                        </button>
                    </div>
                    <div class="col-md-4">
                        <mat-form-field appearance="outline" class="full-width">
                            <mat-label>Referencia</mat-label>
                            <input formControlName="referencia" matInput placeholder="Referencia" [readonly]="true">
                            <mat-icon matSuffix><span class="material-icons-outlined">vpn_key</span>
                            </mat-icon>
                        </mat-form-field>
                    </div>
                    <div class="col-md-4">
                        <p>
                            <mat-form-field appearance="outline" class="full-width">
                                <mat-label>Fecha</mat-label>
                                <input matInput [matDatepicker]="fN" formControlName="fecha" [readonly]="true">
                                <mat-datepicker-toggle matSuffix [for]="fN"></mat-datepicker-toggle>
                                <mat-datepicker #fN></mat-datepicker>
                            </mat-form-field>
                        </p>
                    </div>
                    <div class="col-md-4">
                        <mat-form-field appearance="outline" class="full-width">
                            <mat-label class="mayuscula">No. {{lblCliente}}</mat-label>
                            <input formControlName="numeroCliente" matInput placeholder="No. {{lblCliente}}" [readonly]="true">
                            <mat-icon matSuffix><span class="material-icons-outlined">vpn_key</span>
                            </mat-icon>
                        </mat-form-field>
                    </div>
                    <div class="col-md-7">
                        <mat-form-field appearance="outline" class="full-width">
                            <mat-label>Nombre</mat-label>
                            <input formControlName="nombre" matInput placeholder="Nombre" [readonly]="true">
                            <mat-icon matSuffix><span class="material-icons-outlined">person_search</span>
                            </mat-icon>
                        </mat-form-field>
                    </div>
                    <div class="col-md-1">
                        <button color="primary" (click)="abrirDialogCliente(0)" mat-mini-fab aria-label="Example icon-button with a heart icon">
                            <mat-icon matTooltip="Buscar {{lblCliente}}" >search</mat-icon>
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="row">

    <div class="col-md-4">
        <div class="card card-body">
            <h2 class=" text-center">Administraci&oacute;n Cr&eacute;ditos</h2>
        </div>
    </div>

    <div class="col-md-8 text-center">
        <div class="card card-body">
            <form [formGroup]="formAdminCreditos">
                <div class="row">
                    <div class="col-2" *ngIf="vSolicitudID==0">
                        <button mat-fab color="primary" (click)="gestionCredito(1)">
                            <mat-icon matTooltip="Guardar Solicitud Crédito">done_outline</mat-icon>
                        </button>
                    </div>
                    <div class="col-2" *ngIf="vSolicitudID>0 && autorizar==false">
                        <button mat-fab color="primary" (click)="gestionCredito(2)">
                            <mat-icon matTooltip="Editar Solicitud Crédito">create</mat-icon>
                        </button>
                    </div>
                    <div class="col-2" *ngIf="vSolicitudID>0 && autorizar==true">
                        <button mat-fab color="primary" (click)="autorizarCredito()" [disabled]="btnCalendario">
                            <mat-icon matTooltip="Autorizar Crédito">done_all</mat-icon>
                        </button>
                    </div>
                    <div class="col-2">
                        <button mat-fab color="primary" (click)="limpiarAdministracion()">
                            <mat-icon matTooltip="Nuevo">restore_page</mat-icon>
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <div class="card">
            <mat-tab-group backgroundColor="primary" [selectedIndex]="tabSeleccionada"
                (selectedTabChange)="tabSeleccion($event)">
                <mat-tab label="Solicitud">
                    <div class="row">
                        <div class="col-12 ">
                            <form [formGroup]="formAdminCreditos">
                                <mat-tab-group backgroundColor="primary">
                                    <mat-tab label="Generales">
                                        <div class="row; scroll-container"
                                            [ngStyle]="{'height': '100%', 'width':'100%'}">
                                            <div class="col-12" [ngClass]="{disabledNoOfCasesDiv: !habilitar}">
                                                <form [formGroup]="formAdminCreditos">
                                                    <p></p>
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <mat-form-field appearance="outline" class="full-width">
                                                                <mat-label>Apellido Paterno / Materno</mat-label>
                                                                <input formControlName="apellidos" matInput
                                                                    placeholder="Apellid Paterno y Materno"
                                                                    [readonly]="true">
                                                                <mat-icon matSuffix><span
                                                                        class="material-icons-outlined">description</span>
                                                                </mat-icon>
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <mat-form-field appearance="outline" class="full-width">
                                                                <mat-label>Nombre (s)</mat-label>
                                                                <input formControlName="nombres" matInput
                                                                    [readonly]="true" placeholder="Nombre(s)">
                                                                <mat-icon matSuffix><span
                                                                        class="material-icons-outlined">description</span>
                                                                </mat-icon>
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="col-md-12">
                                                            <mat-form-field appearance="outline" class="full-width">
                                                                <mat-label>Razon social</mat-label>
                                                                <input formControlName="razonSocial" matInput
                                                                    [readonly]="true" placeholder="Razon Social">
                                                                <mat-icon matSuffix><span
                                                                        class="material-icons-outlined">description</span>
                                                                </mat-icon>
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="col-md-3">
                                                            <mat-form-field appearance="outline" class="full-width">
                                                                <mat-label>{{txtFechaNacimiento}}</mat-label>
                                                                <input formControlName="fechaNacimiento" matInput
                                                                    [readonly]="true"
                                                                    placeholder="{{txtFechaNacimiento}}">
                                                                <mat-icon matSuffix><span
                                                                        class="material-icons-outlined">calendar_today</span>
                                                                </mat-icon>
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="col-md-2">
                                                            <mat-form-field appearance="outline" class="full-width">
                                                                <mat-label>Edad</mat-label>
                                                                <input formControlName="edad" matInput [readonly]="true"
                                                                    placeholder="Edad">
                                                                <mat-icon matSuffix><span
                                                                        class="material-icons-outlined">numbers</span>
                                                                </mat-icon>
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <mat-form-field appearance="outline" class="full-width">
                                                                <mat-label>CURP</mat-label>
                                                                <input formControlName="curp" matInput [readonly]="true"
                                                                    placeholder="CURP">
                                                                <mat-icon matSuffix><span
                                                                        class="material-icons-outlined">vpn_key</span>
                                                                </mat-icon>
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="col-md-3">
                                                            <mat-form-field appearance="outline" class="full-width">
                                                                <mat-label>RFC</mat-label>
                                                                <input formControlName="rfc" matInput [readonly]="true"
                                                                    placeholder="RFC">
                                                                <mat-icon matSuffix><span
                                                                        class="material-icons-outlined">vpn_key</span>
                                                                </mat-icon>
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="col-md-12">
                                                            <hr><strong>Detalle Domicilio</strong>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <mat-form-field appearance="outline" class="full-width">
                                                                <mat-label>Estado</mat-label>
                                                                <input formControlName="estado" matInput
                                                                    [readonly]="true" placeholder="Estado">
                                                                <mat-icon matSuffix><span
                                                                        class="material-icons-outlined">map</span>
                                                                </mat-icon>
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <mat-form-field appearance="outline" class="full-width">
                                                                <mat-label>Municipio</mat-label>
                                                                <input formControlName="municipio" matInput
                                                                    [readonly]="true" placeholder="Municipio">
                                                                <mat-icon matSuffix><span
                                                                        class="material-icons-outlined">place</span>
                                                                </mat-icon>
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <mat-form-field appearance="outline" class="full-width">
                                                                <mat-label>Colonia</mat-label>
                                                                <input formControlName="colonia" matInput
                                                                    [readonly]="true" placeholder="Colonia">
                                                                <mat-icon matSuffix><span
                                                                        class="material-icons-outlined">location_city</span>
                                                                </mat-icon>
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <mat-form-field appearance="outline" class="full-width">
                                                                <mat-label>Calle</mat-label>
                                                                <input formControlName="calle" matInput
                                                                    [readonly]="true" placeholder="Calle">
                                                                <mat-icon matSuffix><span
                                                                        class="material-icons-outlined">my_location</span>
                                                                </mat-icon>
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <mat-form-field appearance="outline" class="full-width">
                                                                <mat-label>Num. Exterior</mat-label>
                                                                <input formControlName="numExterior" matInput
                                                                    [readonly]="true" placeholder="Num. Exterior">
                                                                <mat-icon matSuffix><span
                                                                        class="material-icons-outlined">numbers</span>
                                                                </mat-icon>
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <mat-form-field appearance="outline" class="full-width">
                                                                <mat-label>Num. Interior</mat-label>
                                                                <input formControlName="numInterior" matInput
                                                                    [readonly]="true" placeholder="Num. Interior">
                                                                <mat-icon matSuffix><span
                                                                        class="material-icons-outlined">numbers</span>
                                                                </mat-icon>
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <mat-form-field appearance="outline" class="full-width">
                                                                <mat-label>C.P.</mat-label>
                                                                <input formControlName="cp" matInput [readonly]="true"
                                                                    placeholder="CP">
                                                                <mat-icon matSuffix><span
                                                                        class="material-icons-outlined">numbers</span>
                                                                </mat-icon>
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <mat-form-field appearance="outline" class="full-width">
                                                                <mat-label>Localidad</mat-label>
                                                                <input formControlName="localidad" matInput
                                                                    [readonly]="true" placeholder="Localidad">
                                                                <mat-icon matSuffix><span
                                                                        class="material-icons-outlined">gps_fixed</span>
                                                                </mat-icon>
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="col-md-4">
                                                            <mat-form-field appearance="outline" class="full-width">
                                                                <mat-label>Telefono</mat-label>
                                                                <input formControlName="telefono" matInput
                                                                    [readonly]="true" placeholder="Telefono">
                                                                <mat-icon matSuffix><span
                                                                        class="material-icons-outlined">phone</span>
                                                                </mat-icon>
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="col-md-12">
                                                            <hr><strong>Detalle Cuentas Bancarias</strong>
                                                        </div>
                                                        <div class="col-md-12">
                                                            <mat-form-field appearance="outline" class="full-width">
                                                                <mat-label>Cuentas Bancarias</mat-label>
                                                                <input formControlName="cBancaria" matInput
                                                                    [readonly]="true" placeholder="Cuenta Bancaria">
                                                                <mat-icon matSuffix><span
                                                                        class="material-icons-outlined">description</span>
                                                                </mat-icon>
                                                            </mat-form-field>
                                                        </div>
                                                    </div>
                                                </form>
                                                <div class="col-md-12">
                                                    <hr>
                                                </div>
                                                <div *ngIf="listaEmpleos.length > 0">

                                                    <strong>Empleo</strong>
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <div class="mat-elevation-z8 table-responsive">
                                                                <table aria-label="Tabla Empleos" mat-table
                                                                    [dataSource]="dataSourceEmpleo"
                                                                    class="mat-elevation-z8" matSort>
                                                                    <ng-container matColumnDef="Empresa" sticky>
                                                                        <th style="padding: 16px;" scope="col"
                                                                            mat-header-cell *matHeaderCellDef>
                                                                            Empresa</th>
                                                                        <td style="padding: 16px;" mat-cell
                                                                            *matCellDef="let empleo">
                                                                            {{empleo.empleo.nombre_comercial}}
                                                                        </td>
                                                                    </ng-container>
                                                                    <ng-container matColumnDef="Jefe Directo">
                                                                        <th style="padding: 16px;" scope="col"
                                                                            mat-header-cell *matHeaderCellDef>
                                                                            Jefe Directo</th>
                                                                        <td style="padding: 16px;" mat-cell
                                                                            *matCellDef="let empleo">
                                                                            {{empleo.empleo.representante}}
                                                                        </td>
                                                                    </ng-container>
                                                                    <ng-container matColumnDef="Empleo">
                                                                        <th style="padding: 16px;" scope="col"
                                                                            mat-header-cell *matHeaderCellDef>
                                                                            Empleo</th>
                                                                        <td style="padding: 16px;" mat-cell
                                                                            *matCellDef="let empleo">
                                                                            {{empleo.empleo.ocupacion}} </td>
                                                                    </ng-container>
                                                                    <ng-container matColumnDef="Horario">
                                                                        <th style="padding: 16px;" scope="col"
                                                                            mat-header-cell *matHeaderCellDef>
                                                                            Horario</th>
                                                                        <td style="padding: 16px;" mat-cell
                                                                            *matCellDef="let empleo">
                                                                            de {{empleo.empleo.horario_desde}}
                                                                            hasta
                                                                            {{empleo.empleo.horario_hasta}}</td>
                                                                    </ng-container>
                                                                    <ng-container matColumnDef="Estado">
                                                                        <th style="padding: 16px;" scope="col"
                                                                            mat-header-cell *matHeaderCellDef>
                                                                            Estado</th>
                                                                        <td style="padding: 16px;" mat-cell
                                                                            *matCellDef="let empleo">
                                                                            {{empleo.domicilioEmpresa.nombre_estado_emp}}
                                                                        </td>
                                                                    </ng-container>
                                                                    <ng-container matColumnDef="Municipio">
                                                                        <th style="padding: 16px;" scope="col"
                                                                            mat-header-cell *matHeaderCellDef>
                                                                            Municipio</th>
                                                                        <td style="padding: 16px;" mat-cell
                                                                            *matCellDef="let empleo">
                                                                            {{empleo.domicilioEmpresa.ciudad_emp}}
                                                                        </td>
                                                                    </ng-container>
                                                                    <ng-container matColumnDef="Colonia">
                                                                        <th style="padding: 16px;" scope="col"
                                                                            mat-header-cell *matHeaderCellDef>
                                                                            Colonia</th>
                                                                        <td style="padding: 16px;" mat-cell
                                                                            *matCellDef="let empleo">
                                                                            {{empleo.domicilioEmpresa.nombre_col_emp}}
                                                                        </td>
                                                                    </ng-container>
                                                                    <ng-container matColumnDef="Calle">
                                                                        <th style="padding: 16px;" scope="col"
                                                                            mat-header-cell *matHeaderCellDef>
                                                                            Calle</th>
                                                                        <td style="padding: 16px;" mat-cell
                                                                            *matCellDef="let empleo">
                                                                            {{empleo.domicilioEmpresa.calle_empresa}}
                                                                        </td>
                                                                    </ng-container>
                                                                    <ng-container matColumnDef="Número Exterior">
                                                                        <th style="padding: 16px;" scope="col"
                                                                            mat-header-cell *matHeaderCellDef>
                                                                            N&uacute;mero Exterior</th>
                                                                        <td style="padding: 16px;" mat-cell
                                                                            *matCellDef="let empleo">
                                                                            {{empleo.domicilioEmpresa.num_ext_empresa}}
                                                                        </td>
                                                                    </ng-container>
                                                                    <ng-container matColumnDef="Número Interior">
                                                                        <th style="padding: 16px;" scope="col"
                                                                            mat-header-cell *matHeaderCellDef>
                                                                            N&uacute;mero Interior</th>
                                                                        <td style="padding: 16px;" mat-cell
                                                                            *matCellDef="let empleo">
                                                                            {{empleo.domicilioEmpresa.num_int_empresa}}
                                                                        </td>
                                                                    </ng-container>
                                                                    <ng-container matColumnDef="C.P.">
                                                                        <th style="padding: 16px;" scope="col"
                                                                            mat-header-cell *matHeaderCellDef>
                                                                            C.P.</th>
                                                                        <td style="padding: 16px;" mat-cell
                                                                            *matCellDef="let empleo">
                                                                            {{empleo.domicilioEmpresa.cp_emp}}
                                                                        </td>
                                                                    </ng-container>
                                                                    <ng-container matColumnDef="Localidad">
                                                                        <th style="padding: 16px;" scope="col"
                                                                            mat-header-cell *matHeaderCellDef>
                                                                            Localidad</th>
                                                                        <td style="padding: 16px;" mat-cell
                                                                            *matCellDef="let empleo">
                                                                            {{empleo.domicilioEmpresa.localidad_emp}}
                                                                        </td>
                                                                    </ng-container>
                                                                    <ng-container matColumnDef="Telefono">
                                                                        <th style="padding: 16px;" scope="col"
                                                                            mat-header-cell *matHeaderCellDef>
                                                                            Telefono</th>
                                                                        <td style="padding: 16px;" mat-cell
                                                                            *matCellDef="let empleo">
                                                                            {{empleo.domicilioEmpresa.telefono}}
                                                                        </td>
                                                                    </ng-container>
                                                                    <tr mat-header-row
                                                                        *matHeaderRowDef="displayedColumnsEmpleo">
                                                                    </tr>
                                                                    <tr mat-row
                                                                        *matRowDef="let row; columns: displayedColumnsEmpleo;">
                                                                    </tr>
                                                                </table>
                                                            </div>
                                                            <mat-paginator #paginatorEmpleo="matPaginator"
                                                                [pageSizeOptions]="[5, 10, 25, 100]"
                                                                showFirstLastButtons aria-label="Select page of users">
                                                            </mat-paginator>

                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </mat-tab>
                                    <mat-tab label="Crédito">
                                        <div class="row; scroll-container"
                                            [ngStyle]="{'height': '100%', 'width':'100%'}">
                                            <div class="col-12" [ngClass]="{disabledNoOfCasesDiv: !habilitar}">
                                                <form [formGroup]="formAdminCreditos">
                                                    <p></p>
                                                    <div class="row">
                                                        <div class="col-12">
                                                            <div class="row">
                                                                <div class="col-md-3">
                                                                    <mat-form-field class="full-width"
                                                                        appearance="outline" class="full-width">
                                                                        <mat-label>Cr&eacute;dito</mat-label>
                                                                        <input type="text" matInput
                                                                            formControlName="tipoCredito"
                                                                            [matAutocomplete]="autoTipoCredito"
                                                                            [readonly]="readOnly">
                                                                        <mat-icon matSuffix><span
                                                                                class="material-icons-outlined">list</span>
                                                                        </mat-icon>
                                                                        <mat-autocomplete autoActiveFirstOption
                                                                            #autoTipoCredito="matAutocomplete"
                                                                            [displayWith]="displayFnTipoCredito">
                                                                            <mat-option
                                                                                *ngFor="let option of opcionesTipoCredito | async"
                                                                                [value]="option"
                                                                                (click)="cargarInformacion(option)">
                                                                                {{option.descripcion}}
                                                                            </mat-option>
                                                                        </mat-autocomplete>
                                                                        <ng-template ngFor let-error [ngForOf]="validaciones.tipoCredito" ngProjectAs="mat-error">
                                                                            <mat-error *ngIf="formAdminCreditos.get('tipoCredito').hasError(error.type)">
                                                                              <strong> {{error.message}}</strong>
                                                                            </mat-error>
                                                                        </ng-template>
                                                                    </mat-form-field>
                                                                </div>

                                                                <div class="col-md-3">
                                                                    <mat-form-field appearance="outline"
                                                                        class="full-width">
                                                                        <mat-label>Clasificaci&oacute;n</mat-label>
                                                                        <mat-icon matSuffix>list</mat-icon>
                                                                        <mat-select formControlName="clasificacion"
                                                                            name="clasificacion" id="clasificacion">
                                                                            <mat-option
                                                                                *ngFor="let clasificacion of listaClasificacion"
                                                                                [value]="clasificacion">
                                                                                {{clasificacion.descripcion}}
                                                                            </mat-option>
                                                                        </mat-select>
                                                                        <ng-template ngFor let-error [ngForOf]="validaciones.clasificacion" ngProjectAs="mat-error">
                                                                            <mat-error *ngIf="formAdminCreditos.get('clasificacion').hasError(error.type)">
                                                                              <strong> {{error.message}}</strong>
                                                                            </mat-error>
                                                                        </ng-template>
                                                                    </mat-form-field>
                                                                </div>
                                                                <!-- boton para el modal de creditos vigentes-->
                                                                <div class="col-md-2">
                                                                    <button mat-mini-fab
                                                                        (click)="abrirModCreditoRenov()"
                                                                        color="primary">
                                                                        <mat-icon>arrow_forward</mat-icon>
                                                                    </button>
                                                                </div>

                                                                <div class="col-md-4">
                                                                    <mat-form-field class="full-width"
                                                                        appearance="outline" class="full-width">
                                                                        <mat-label>Condici&oacute;n de Pago</mat-label>
                                                                        <input type="text" matInput
                                                                            formControlName="condicionPago" matInput
                                                                            [readonly]="true">
                                                                        <mat-icon matSuffix><span
                                                                                class="material-icons-outlined">list</span>
                                                                        </mat-icon>
                                                                    </mat-form-field>
                                                                </div>
                                                                <div class="col-md-3">
                                                                    <mat-form-field appearance="outline"
                                                                        class="full-width">
                                                                        <mat-label>Finalidad</mat-label>
                                                                        <input formControlName="finalidad" matInput
                                                                            [readonly]="true" placeholder="Pat Mat">
                                                                        <mat-icon matSuffix><span
                                                                                class="material-icons-outlined">numbers</span>
                                                                        </mat-icon>
                                                                    </mat-form-field>
                                                                </div>
                                                                <div class="col-md-3">
                                                                    <mat-form-field appearance="outline"
                                                                        class="full-width">
                                                                        <mat-label>Monto Cr&eacute;dito</mat-label>
                                                                        <input formControlName="montoCredito" matInput
                                                                            placeholder="Monto Crédito"
                                                                            [value]="cantidad"
                                                                            (change)="updateValue($event.target.value)"
                                                                            [readonly]="readOnly">
                                                                        <mat-icon matSuffix><span
                                                                                class="material-icons-outlined">numbers</span>
                                                                        </mat-icon>
                                                                        <ng-template ngFor let-error [ngForOf]="validaciones.montoCredito" ngProjectAs="mat-error">
                                                                            <mat-error *ngIf="formAdminCreditos.get('montoCredito').hasError(error.type)">
                                                                              <strong> {{error.message}}</strong>
                                                                            </mat-error>
                                                                        </ng-template>
                                                                    </mat-form-field>
                                                                </div>
                                                                <!----- Filtro estado -------->
                                                                <div class="col-md-3">
                                                                    <mat-form-field appearance="outline"
                                                                        class="full-width">
                                                                        <mat-label>Estado</mat-label>
                                                                        <mat-icon matSuffix>map</mat-icon>
                                                                        <input type="text" placeholder="Nombre Estado"
                                                                            matInput formControlName="estadoDestino"
                                                                            [matAutocomplete]="autoECl">
                                                                        <mat-autocomplete autoActiveFirstOption
                                                                            #autoECl="matAutocomplete"
                                                                            (optionSelected)="opcionSeleccionadaE($event)"
                                                                            [displayWith]="mostrarEstado">
                                                                            <mat-option
                                                                                *ngFor="let option of opcionesEstado | async"
                                                                                [value]="option">
                                                                                {{option.nombreEstado}}
                                                                            </mat-option>
                                                                        </mat-autocomplete>
                                                                        <ng-template ngFor let-error [ngForOf]="validaciones.estadoDestino" ngProjectAs="mat-error">
                                                                            <mat-error *ngIf="formAdminCreditos.get('estadoDestino').hasError(error.type)">
                                                                              <strong> {{error.message}}</strong>
                                                                            </mat-error>
                                                                        </ng-template>
                                                                    </mat-form-field>
                                                                </div>

                                                                <!-------Filtro Ciudad -->
                                                                <div class="col-md-3">
                                                                    <mat-form-field appearance="outline"
                                                                        class="full-width">
                                                                        <mat-label>Destino de Recurso</mat-label>
                                                                        <mat-icon matSuffix>map</mat-icon>
                                                                        <input type="text"
                                                                            placeholder="Destino de Recurso" matInput
                                                                            formControlName="destinoRecurso"
                                                                            [matAutocomplete]="autoCiudadCre">
                                                                        <mat-autocomplete autoActiveFirstOption
                                                                            #autoCiudadCre="matAutocomplete"
                                                                            (optionSelected)="opcionSelecCiudad($event)"
                                                                            [displayWith]="mostrarCd">
                                                                            <mat-option
                                                                                *ngFor="let option of opcionesCiudades | async"
                                                                                [value]="option">
                                                                                {{option.nombre}}
                                                                            </mat-option>
                                                                        </mat-autocomplete>
                                                                        <ng-template ngFor let-error [ngForOf]="validaciones.destinoRecurso" ngProjectAs="mat-error">
                                                                            <mat-error *ngIf="formAdminCreditos.get('destinoRecurso').hasError(error.type)">
                                                                              <strong> {{error.message}}</strong>
                                                                            </mat-error>
                                                                        </ng-template>
                                                                    </mat-form-field>
                                                                </div>
                                                                <div class="col-md-4">
                                                                    <div class="row">
                                                                        <div class="col-12">
                                                                            <mat-slider [max]="max"
                                                                                [min]="min" [step]="step"
                                                                                [discrete]="thumbLabel"
                                                                                [(ngModel)]="value" color="primary"
                                                                                name="tasaInteres" ngDefaultControl
                                                                                formControlName="tasaInteres"
                                                                                aria-labelledby="example-name-label"><input matSliderThumb />
                                                                            </mat-slider>
                                                                        </div>
                                                                        <div class="col-md-6">
                                                                            <h2 class="example-h2">Tasa Inter&eacute;s
                                                                            </h2>
                                                                        </div>

                                                                        <div class="col-md-6">
                                                                            <h2 class="example-h2">{{value}}%</h2>
                                                                        </div>

                                                                    </div>

                                                                </div>
                                                                <div class="col-md-4">
                                                                    <mat-form-field appearance="outline"
                                                                        class="full-width">
                                                                        <mat-label>Tasa Moratoria</mat-label>
                                                                        <input formControlName="tasaMoratoria" matInput
                                                                            [readonly]="true"
                                                                            placeholder="Tasa Moratoria">
                                                                        <mat-icon matSuffix><span
                                                                                class="material-icons-outlined">numbers</span>
                                                                        </mat-icon>
                                                                    </mat-form-field>
                                                                </div>
                                                                <div class="col-md-4">
                                                                    <mat-form-field appearance="outline"
                                                                        class="full-width">
                                                                        <mat-label>Periodo</mat-label>
                                                                        <mat-icon matSuffix>format_list_numbered
                                                                        </mat-icon>
                                                                        <mat-select formControlName="periodo"
                                                                            name="periodo"
                                                                            (change)=validarParametrosCr()>
                                                                            <mat-option
                                                                                *ngFor="let periodo of listaFrecuenciaPago"
                                                                                [value]="periodo">
                                                                                {{periodo.descripcion}}
                                                                            </mat-option>
                                                                        </mat-select>
                                                                        <ng-template ngFor let-error [ngForOf]="validaciones.periodo" ngProjectAs="mat-error">
                                                                            <mat-error *ngIf="formAdminCreditos.get('periodo').hasError(error.type)">
                                                                              <strong> {{error.message}}</strong>
                                                                            </mat-error>
                                                                        </ng-template>
                                                                    </mat-form-field>
                                                                </div>
                                                                <div class="col-md-4">
                                                                    <mat-form-field appearance="outline"
                                                                        class="full-width">
                                                                        <mat-label>Pagos a Cubrir en</mat-label>
                                                                        <input formControlName="noPagos" matInput
                                                                            placeholder="Pagos a Cubrir en"
                                                                            (change)="validarParametrosCr()"
                                                                            [readonly]="readOnly">
                                                                        <mat-icon matSuffix><span
                                                                                class="material-icons-outlined">numbers</span>
                                                                        </mat-icon>
                                                                        <ng-template ngFor let-error [ngForOf]="validaciones.noPagos" ngProjectAs="mat-error">
                                                                            <mat-error *ngIf="formAdminCreditos.get('noPagos').hasError(error.type)">
                                                                              <strong> {{error.message}}</strong>
                                                                            </mat-error>
                                                                        </ng-template>
                                                                    </mat-form-field>
                                                                </div>
                                                                <div class="col-md-4">
                                                                    <mat-form-field appearance="outline"
                                                                        class="full-width">
                                                                        <mat-label>Estado</mat-label>
                                                                        <input formControlName="estadoCredito" matInput
                                                                            [readonly]="true">
                                                                        <mat-icon matSuffix><span
                                                                                class="material-icons-outlined">description</span>
                                                                        </mat-icon>
                                                                    </mat-form-field>
                                                                </div>
                                                                <div class="col-md-4">
                                                                    <mat-form-field appearance="outline"
                                                                        class="full-width">
                                                                        <mat-label>No. Folio SIC.</mat-label>
                                                                        <input formControlName="noFolioSIC" matInput
                                                                            placeholder="No. Folio SIC." maxlength="12"
                                                                            [readonly]="readOnly">
                                                                        <mat-icon matSuffix><span
                                                                                class="material-icons-outlined">vpn_key</span>
                                                                        </mat-icon>
                                                                        <ng-template ngFor let-error [ngForOf]="validaciones.noFolioSIC" ngProjectAs="mat-error">
                                                                            <mat-error *ngIf="formAdminCreditos.get('noFolioSIC').hasError(error.type)">
                                                                              <strong> {{error.message}}</strong>
                                                                            </mat-error>
                                                                        </ng-template>
                                                                    </mat-form-field>
                                                                </div>
                                                                <div class="col-md-4">
                                                                    <mat-form-field appearance="outline"
                                                                        class="full-width">
                                                                        <mat-label>Calificaci&oacute;n Buro</mat-label>
                                                                        <mat-icon matSuffix>list</mat-icon>
                                                                        <mat-select formControlName="calificacionBuro"
                                                                            name="calificacionBuro"
                                                                            matTooltip="Nulo - Cuenta sin Información o Muy reciente para ser calificada.                                                                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                                            Excelente - Cuenta al corriente, 0 días de atraso.
                                                                                                            &nbsp;&nbsp;&nbsp;&nbsp;
                                                                                                            Muy Bueno -  Cuenta con atraso de 1 a 29 días.
                                                                                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                                            Bueno - Cuenta con atraso de 30 a 59 días.
                                                                                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                                            Regular - Cuenta con atraso de 60 a 89 días.
                                                                                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                                            &nbsp;&nbsp;&nbsp;&nbsp;
                                                                                                            Malo - Cuenta con atraso de 90 a 119 días.
                                                                                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                                                                            &nbsp;&nbsp;&nbsp;&nbsp;
                                                                                                            Pésimo - Cuenta con atraso más 120 días de atraso.">
                                                                            <mat-option
                                                                                *ngFor="let calificacionBuro of listaCalificacionBuro"
                                                                                [value]="calificacionBuro">
                                                                                {{calificacionBuro.descripcion}}
                                                                            </mat-option>
                                                                        </mat-select>
                                                                        <ng-template ngFor let-error [ngForOf]="validaciones.calificacionBuro" ngProjectAs="mat-error">
                                                                            <mat-error *ngIf="formAdminCreditos.get('calificacionBuro').hasError(error.type)">
                                                                              <strong> {{error.message}}</strong>
                                                                            </mat-error>
                                                                        </ng-template>
                                                                    </mat-form-field>
                                                                </div>
                                                                <div class="col-md-4">
                                                                    <p>
                                                                        <mat-form-field appearance="outline"
                                                                            class="full-width">
                                                                            <mat-label>Consulta Buro</mat-label>
                                                                            <input matInput [matDatepicker]="fNBuro"
                                                                                formControlName="consultaBuro">
                                                                            <mat-datepicker-toggle matSuffix
                                                                                [for]="fNBuro">
                                                                            </mat-datepicker-toggle>
                                                                            <mat-datepicker #fNBuro>
                                                                            </mat-datepicker>
                                                                            <ng-template ngFor let-error [ngForOf]="validaciones.consultaBuro" ngProjectAs="mat-error">
                                                                                <mat-error *ngIf="formAdminCreditos.get('consultaBuro').hasError(error.type)">
                                                                                  <strong> {{error.message}}</strong>
                                                                                </mat-error>
                                                                            </ng-template>
                                                                        </mat-form-field>
                                                                    </p>
                                                                </div>
                                                                <div class="col-md-3">
                                                                    <p>
                                                                        <mat-form-field appearance="outline"
                                                                            class="full-width">
                                                                            <mat-label>Entrega</mat-label>
                                                                            <input matInput [matDatepicker]="fNEntrega"
                                                                                formControlName="entrega"
                                                                                (dateChange)="avisoAmortizacion()">
                                                                            <mat-datepicker-toggle matSuffix
                                                                                [for]="fNEntrega">
                                                                            </mat-datepicker-toggle>
                                                                            <mat-datepicker #fNEntrega>
                                                                            </mat-datepicker>
                                                                        </mat-form-field>
                                                                    </p>
                                                                </div>
                                                                <div class="col-md-3">
                                                                    <mat-slide-toggle formControlName="aplicaFuturo"
                                                                        [disabled]="habilitarToogleFuturo"
                                                                        (change)="filtroFuturo($event)" color="primary">
                                                                        Aplica Pago a Futuro
                                                                    </mat-slide-toggle>
                                                                </div>
                                                                <div class="col-md-3">
                                                                    <p>
                                                                        <mat-form-field appearance="outline"
                                                                            class="full-width">
                                                                            <mat-label>1er. Pago</mat-label>
                                                                            <input matInput [matDatepicker]="fN1erPago"
                                                                                formControlName="primerPago"
                                                                                [readonly]="true">
                                                                            <mat-datepicker-toggle matSuffix
                                                                                [for]="fN1erPago">
                                                                            </mat-datepicker-toggle>
                                                                            <mat-datepicker #fN1erPago
                                                                                [disabled]="habilitarPrPago">
                                                                            </mat-datepicker>
                                                                        </mat-form-field>
                                                                    </p>
                                                                </div>
                                                                <div class="col-md-3">
                                                                    <p>
                                                                        <mat-form-field appearance="outline"
                                                                            class="full-width">
                                                                            <mat-label>Ultimo Pago</mat-label>
                                                                            <input matInput [matDatepicker]="fNUltPago"
                                                                                formControlName="ultimoPago"
                                                                                [readonly]="true">
                                                                            <mat-datepicker-toggle matSuffix
                                                                                [for]="fNUltPago">
                                                                            </mat-datepicker-toggle>
                                                                            <mat-datepicker #fNUltPago>
                                                                            </mat-datepicker>
                                                                        </mat-form-field>
                                                                    </p>
                                                                </div>
                                                                <div class="col-md-3">
                                                                    <p>
                                                                        <mat-form-field appearance="outline"
                                                                            class="full-width">
                                                                            <mat-label>Resultado</mat-label>
                                                                            <input matInput [matDatepicker]="fNResult"
                                                                                formControlName="resultado"
                                                                                [readonly]="true">
                                                                            <mat-datepicker-toggle matSuffix
                                                                                [for]="fNResult">
                                                                            </mat-datepicker-toggle>
                                                                            <mat-datepicker #fNResult>
                                                                            </mat-datepicker>
                                                                        </mat-form-field>
                                                                    </p>
                                                                </div>
                                                                <div class="col-md-6">
                                                                    <mat-form-field class="full-width"
                                                                        appearance="outline">
                                                                        <textarea formControlName="observacionSolicitud"
                                                                            matInput
                                                                            placeholder="Observaciones Solicitud Cr&eacute;dito"></textarea>
                                                                    </mat-form-field>
                                                                </div>
                                                                <div class="col-md-3">
                                                                    <div class="col-md-1">
                                                                        <button color="primary" mat-mini-fab
                                                                            [disabled]="btnCalendario"
                                                                            aria-label="Example icon-button with a heart icon" (click)="spsAmortizaciones()">
                                                                            <mat-icon matTooltip="Calendario de Pagos">date_range </mat-icon>
                                                                        </button>
                                                                    </div>
                                                                    <div class="col-md-12">
                                                                        <br>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <!--row-->
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </mat-tab>
                                    <mat-tab label="Garant&iacute;as">
                                        <div class="row">
                                            <div class="col-md-12" [ngClass]="{disabledNoOfCasesDiv: !habilitar}">
                                                <div class="card card-body">
                                                    <form [formGroup]="formAdminCreditos">
                                                        <p></p>
                                                        <div class="row">
                                                            <div class="col-md-4">
                                                                <mat-form-field class="full-width" appearance="outline"
                                                                    class="full-width">
                                                                    <mat-label>Tipo de Garant&iacute;a</mat-label>
                                                                    <input type="text" matInput
                                                                        formControlName="tipoGarantia"
                                                                        [matAutocomplete]="autoTipoGarantia">
                                                                    <mat-icon matSuffix><span
                                                                            class="material-icons-outlined">list</span>
                                                                    </mat-icon>
                                                                    <mat-autocomplete autoActiveFirstOption
                                                                        #autoTipoGarantia="matAutocomplete"
                                                                        [displayWith]="displayFnTipoGarantia">
                                                                        <mat-option
                                                                            *ngFor="let option of opcionesTipoGarantias | async"
                                                                            [value]="option">
                                                                            {{option.descripcion}}
                                                                        </mat-option>
                                                                    </mat-autocomplete>
                                                                    <ng-template ngFor let-error [ngForOf]="validaciones.tipoGarantia" ngProjectAs="mat-error">
                                                                        <mat-error *ngIf="formAdminCreditos.get('tipoGarantia').hasError(error.type)">
                                                                          <strong> {{error.message}}</strong>
                                                                        </mat-error>
                                                                    </ng-template>
                                                                </mat-form-field>
                                                            </div>
                                                            <div class="col-md-1">
                                                                <button color="primary" mat-mini-fab
                                                                    aria-label="Example icon-button with a heart icon"
                                                                    (click)="abrirTipoGarantia()">
                                                                    <mat-icon matTooltip="Agregar Garantia">
                                                                        add_circle
                                                                    </mat-icon>

                                                                </button>
                                                            </div>
                                                        </div>  
                                                    </form>

                                                    <!--Lista de avales agrregados-->
                                                    <mat-card appearance="outlined" class="full-width" *ngIf="listaAvales.length>0">
                                                        <strong>Avales</strong>
                                                        <div class="row">
                                                            <div class="col-12">
                                                                <mat-selection-list [multiple]="false">
                                                                    <mat-list-option *ngFor="let aval of listaAvales">
                                                                        <div class="row">
                                                                            <div class="col-10">
                                                                                <h3 matLine>
                                                                                    {{aval.extencionAval.detalle[2]}}.-
                                                                                    {{aval.sujeto[1]}}
                                                                                    {{aval.sujeto[2]}}
                                                                                    {{aval.sujeto[3]}},
                                                                                    Porcentaje:
                                                                                    {{aval.extencionAval.detalle[3]}}
                                                                                    %</h3>
                                                                            </div>
                                                                            <div class="col-2">
                                                                                <button color="primary" mat-mini-fab
                                                                                    matTooltip="Editar"
                                                                                    (click)="abrirModAvales(aval, 2)">
                                                                                    <mat-icon>edite</mat-icon>
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                    </mat-list-option>
                                                                </mat-selection-list>
                                                            </div>
                                                        </div>
                                                    </mat-card>
                                                    <!-- termina avales-->
                                                    <mat-card appearance="outlined" class="full-width"><strong>Garant&iacute;as</strong>
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <mat-selection-list [multiple]="false">
                                                                    <mat-list-option *ngFor="let garantia of vHipotecas"
                                                                        [value]="garantia">
                                                                        <div class="row">
                                                                            <div class="col-10">
                                                                                Hipoteca - No. Escritura:
                                                                                {{garantia[1]}}
                                                                            </div>
                                                                            <div class="col-2">
                                                                                <button mat-mini-fab
                                                                                    (click)="openDialogGaraHipo(2,garantia)"
                                                                                    color="primary">
                                                                                    <mat-icon>edite</mat-icon>
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                    </mat-list-option>
                                                                </mat-selection-list>

                                                                <mat-selection-list [multiple]="false">
                                                                    <mat-list-option *ngFor="let garantia of vPrendas"
                                                                        [value]="garantia">
                                                                        <div class="row">
                                                                            <div class="col-10">
                                                                                Prendaria - No. Factura:
                                                                                {{garantia[1]}}
                                                                            </div>
                                                                            <div class="col-2">
                                                                                <button mat-mini-fab color="primary"
                                                                                    (click)="openDialogGaraPrendaria(2,garantia)">
                                                                                    <mat-icon>edite</mat-icon>
                                                                                </button>
                                                                            </div>
                                                                        </div>

                                                                    </mat-list-option>
                                                                </mat-selection-list>
                                                                <!--INVERSION-->
                                                                <mat-selection-list [multiple]="false">
                                                                    <mat-list-option
                                                                        *ngFor="let garantia of listaInversion"
                                                                        [value]="garantia">
                                                                        <div class="row">
                                                                            <div class="col-10">
                                                                                Inversion:
                                                                                {{garantia[1] | currency:'MXN'}}
                                                                                {{garantia[2]}}
                                                                            </div>
                                                                            <div class="col-2">
                                                                                <button mat-mini-fab
                                                                                    (click)="abrirModInversion(garantia,2)"
                                                                                    color="primary">
                                                                                    <mat-icon>edite</mat-icon>
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                    </mat-list-option>
                                                                </mat-selection-list>
                                                                <!--liquida-->
                                                                <div *ngIf="montoGarLiquida>0">
                                                                    <mat-selection-list [multiple]="false">
                                                                        <mat-list-option>
                                                                            <div class="row">
                                                                                <div class="col-10">
                                                                                    Garant&iacute;a l&iacute;quida -
                                                                                    Saldo requerido:
                                                                                    {{montoGarLiquida | currency:'MXN'}}
                                                                                </div>
                                                                                <div class="col-2">
                                                                                    <button mat-mini-fab color="primary"
                                                                                        (click)="openDialogGaraLiquida(2)">
                                                                                        <mat-icon>edite</mat-icon>
                                                                                    </button>
                                                                                </div>
                                                                            </div>
                                                                        </mat-list-option>
                                                                    </mat-selection-list>
                                                                </div>
                                                                <!--g liquida fin-->
                                                            </div>
                                                        </div>
                                                    </mat-card>
                                                </div>
                                            </div>
                                        </div>
                                    </mat-tab>
                                    <mat-tab label="Historial Crediticio">
                                        <div class="row">
                                            <div class="col-md-12" [ngClass]="{disabledNoOfCasesDiv: !habilitar}">
                                                <div class="card card-body">
                                                    <!--Cuerpo de la tabla-->
                                                    <div class="mat-elevation-z8 table-responsive">
                                                        <table aria-label="Historial Crediticio" mat-table
                                                            [dataSource]="dataSopurceHistorial" matSort>
                                                            <!-- Referencia del credito Column -->
                                                            <ng-container matColumnDef="refCredito">
                                                                <th style="padding: 16px;" id="refCredito"
                                                                    mat-header-cell *matHeaderCellDef mat-sort-header>
                                                                    Referencia Cred. </th>
                                                                <td style="padding: 16px;" mat-cell
                                                                    *matCellDef="let creditoCliente">
                                                                    {{creditoCliente.refCredito}} </td>
                                                            </ng-container>

                                                            <!-- Fecha Entrega Column -->
                                                            <ng-container matColumnDef="fechaEntrega">
                                                                <th style="padding: 16px;" id="fechaEntrega"
                                                                    mat-header-cell *matHeaderCellDef mat-sort-header>
                                                                    Fecha Entrega </th>
                                                                <td style="padding: 16px;" mat-cell
                                                                    *matCellDef="let creditoCliente">
                                                                    {{creditoCliente.fechaEntrega}} </td>
                                                            </ng-container>

                                                            <!-- Fecha Vencimiento Column -->
                                                            <ng-container matColumnDef="fechaVencimiento">
                                                                <th style="padding: 16px;" id="fechaVencimiento"
                                                                    mat-header-cell *matHeaderCellDef mat-sort-header>
                                                                    Fecha Vencimiento
                                                                </th>
                                                                <td style="padding: 16px;" mat-cell
                                                                    *matCellDef="let creditoCliente">
                                                                    {{creditoCliente.fechaVencimiento}} </td>
                                                            </ng-container>

                                                            <!-- Fecha Ultimo Pago Column -->
                                                            <ng-container matColumnDef="fechaUltimoPago">
                                                                <th style="padding: 16px;" id="fechaUltimoPago"
                                                                    mat-header-cell *matHeaderCellDef mat-sort-header>
                                                                    Fecha Ultimo Pago
                                                                </th>
                                                                <td style="padding: 16px;" mat-cell
                                                                    *matCellDef="let creditoCliente">
                                                                    {{creditoCliente.fechaUltimoPago}} </td>
                                                            </ng-container>

                                                            <!-- Monto Credito Column -->
                                                            <ng-container matColumnDef="montoCredito">
                                                                <th style="padding: 16px;" id="montoCredito"
                                                                    mat-header-cell *matHeaderCellDef mat-sort-header>
                                                                    Monto </th>
                                                                <td style="padding: 16px;" mat-cell
                                                                    *matCellDef="let creditoCliente">
                                                                    {{creditoCliente.montoCredito | currency:'MXN'}}
                                                                </td>
                                                            </ng-container>

                                                            <!-- Saldo Credito Column -->
                                                            <ng-container matColumnDef="saldoCredito">
                                                                <th style="padding: 16px;" id="saldoCredito"
                                                                    mat-header-cell *matHeaderCellDef mat-sort-header>
                                                                    Saldo Cr&eacute;dito </th>
                                                                <td style="padding: 16px;" mat-cell
                                                                    *matCellDef="let creditoCliente">
                                                                    {{creditoCliente.saldoCredito | currency:'MXN'}}
                                                                </td>
                                                            </ng-container>

                                                            <!-- Estado Credito Comite Column -->
                                                            <ng-container matColumnDef="estadoCredito">
                                                                <th style="padding: 16px;" id="estadoCredito"
                                                                    mat-header-cell *matHeaderCellDef mat-sort-header>
                                                                    Estado Credito</th>
                                                                <td style="padding: 16px;" mat-cell
                                                                    *matCellDef="let creditoCliente">
                                                                    {{creditoCliente.estadoCredito}} </td>
                                                            </ng-container>
                                                            <tr mat-header-row
                                                                *matHeaderRowDef="displayedColumnsHistorial"></tr>
                                                            <tr mat-row
                                                                *matRowDef="let row; columns: displayedColumnsHistorial;">
                                                            </tr>
                                                        </table>
                                                    </div>

                                                    <mat-paginator #paginatorHistorial="matPaginator" fxFlex="100"
                                                        #paginatorRef [length]="5" [pageSize]="5"
                                                        [pageSizeOptions]="[5, 10, 25, 100]" showFirstLastButtons
                                                        aria-label="Seleccionar pagina de historial crediticio">
                                                    </mat-paginator>
                                                </div>
                                            </div>
                                        </div>
                                    </mat-tab>
                                    <mat-tab label="Avalados">
                                        <div class="row">
                                            <div class="col-md-12" [ngClass]="{disabledNoOfCasesDiv: !habilitar}">

                                                <div class="card card-body">

                                                    <!--Cuerpo de la tabla-->
                                                    <div class="mat-elevation-z8 table-responsive">
                                                        <table aria-label="Lista Avalados" mat-table
                                                            [dataSource]="dataSourceAvalados" matSort>
                                                            <!--Numero del Cliente Column -->
                                                            <ng-container matColumnDef="numeroCliente">
                                                                <th style="padding: 16px;" id="numeroCliente"
                                                                    mat-header-cell *matHeaderCellDef mat-sort-header
                                                                    class="mayuscula">N&uacute;mero
                                                                    {{lblCliente}} </th>
                                                                <td style="padding: 16px;" mat-cell
                                                                    *matCellDef="let avalado">
                                                                    {{avalado.numeroCliente}} </td>
                                                            </ng-container>

                                                            <!-- Nombre CL Column -->
                                                            <ng-container matColumnDef="nombre">
                                                                <th style="padding: 16px;" id="nombre" mat-header-cell
                                                                    *matHeaderCellDef mat-sort-header>Nombre </th>
                                                                <td style="padding: 16px;" mat-cell
                                                                    *matCellDef="let avalado">
                                                                    {{avalado.nombre}} </td>
                                                            </ng-container>

                                                            <!-- Referencioa cred Column -->
                                                            <ng-container matColumnDef="referencia">
                                                                <th style="padding: 16px;" id="referencia"
                                                                    mat-header-cell *matHeaderCellDef mat-sort-header>
                                                                    Referencia
                                                                    Cr&eacute;dito </th>
                                                                <td style="padding: 16px;" mat-cell
                                                                    *matCellDef="let avalado">
                                                                    {{avalado.referencia}} </td>
                                                            </ng-container>

                                                            <!-- Monto Cred Column -->
                                                            <ng-container matColumnDef="monto">
                                                                <th style="padding: 16px;" id="monto" mat-header-cell
                                                                    *matHeaderCellDef mat-sort-header>Monto</th>
                                                                <td style="padding: 16px;" mat-cell
                                                                    *matCellDef="let avalado">
                                                                    {{avalado.monto | currency:'MXN'}} </td>
                                                            </ng-container>

                                                            <!-- Saldo Credito Column -->
                                                            <ng-container matColumnDef="saldo">
                                                                <th style="padding: 16px;" id="saldo" mat-header-cell
                                                                    *matHeaderCellDef mat-sort-header>Saldo </th>
                                                                <td style="padding: 16px;" mat-cell
                                                                    *matCellDef="let avalado">
                                                                    {{avalado.saldo | currency:'MXN'}} </td>
                                                            </ng-container>

                                                            <!-- Estado Credito Column -->
                                                            <ng-container matColumnDef="estadoCredito">
                                                                <th style="padding: 16px;" id="estadoCredito"
                                                                    mat-header-cell *matHeaderCellDef mat-sort-header>
                                                                    Estado
                                                                    Cr&eacute;dito </th>
                                                                <td style="padding: 16px;" mat-cell
                                                                    *matCellDef="let avalado">
                                                                    {{avalado.estadoCredito}} </td>
                                                            </ng-container>

                                                            <tr mat-header-row
                                                                *matHeaderRowDef="displayedColumnsAvalados">
                                                            </tr>
                                                            <tr mat-row
                                                                *matRowDef="let row; columns: displayedColumnsAvalados;">
                                                            </tr>
                                                        </table>
                                                    </div>

                                                    <mat-paginator #paginatorAvalados="matPaginator" fxFlex="100"
                                                        #paginatorRef [length]="5" [pageSize]="5"
                                                        [pageSizeOptions]="[5, 10, 25, 100]" showFirstLastButtons
                                                        aria-label="Seleccionar pagina de solicitudes">
                                                    </mat-paginator>


                                                </div>

                                            </div>
                                        </div>
                                    </mat-tab>
                                    <mat-tab label="An&aacute;lisis de Viabilidad de Cr&eacute;dito">
                                        <div class="row; scroll-container"
                                            [ngStyle]="{'height': '100%', 'width':'100%'}">
                                            <div class="col-12" [ngClass]="{disabledNoOfCasesDiv: !habilitar}">
                                                <mat-tab-group mat-align-tabs="center">
                                                    <mat-tab label="Analisis Acreditado">
                                                        <div class="row; scroll-container"
                                                            [ngStyle]="{'height': '100%', 'width':'100%'}">
                                                            <div class="col-12">
                                                                <div class="row">
                                                                    <form [formGroup]="formAdminCreditos">
                                                                        <div class="row">
                                                                            <div class="col-12 text-center">
                                                                                <br>
                                                                            </div>
                                                                            <div class="col-12 text-center">
                                                                                <mat-card-title class="mayuscula">
                                                                                    Situaci&oacute;n
                                                                                    Financiera del
                                                                                    {{lblCliente}} y/o
                                                                                    Socio
                                                                                </mat-card-title>
                                                                            </div>
                                                                            <div class="col-md-6">
                                                                                <mat-form-field appearance="outline"
                                                                                    class="full-width">
                                                                                    <mat-label>Ocupaci&oacute;n
                                                                                    </mat-label>
                                                                                    <input formControlName="ocupacionA"
                                                                                        matInput [readonly]="true"
                                                                                        placeholder="Ocupación">
                                                                                    <mat-icon matSuffix><span
                                                                                            class="material-icons-outlined">description</span>
                                                                                    </mat-icon>
                                                                                </mat-form-field>
                                                                            </div>
                                                                            <div class="col-md-6">
                                                                                <mat-form-field appearance="outline"
                                                                                    class="full-width">
                                                                                    <mat-label>Fuente de
                                                                                        Ingresos
                                                                                    </mat-label>
                                                                                    <input formControlName="fIngresos"
                                                                                        matInput [readonly]="true"
                                                                                        placeholder="Fuente Ingresos">
                                                                                    <mat-icon matSuffix><span
                                                                                            class="material-icons-outlined">description</span>
                                                                                    </mat-icon>
                                                                                </mat-form-field>
                                                                            </div>
                                                                            <div class="col-md-6">
                                                                                <mat-card appearance="outlined" class="full-width">
                                                                                    <strong>Ingresos</strong>
                                                                                    <div class="row">
                                                                                        <div class="col-12">
                                                                                            <div
                                                                                                class="mat-elevation-z8 table-responsive">
                                                                                                <table
                                                                                                    aria-label="Tabla Ingresos"
                                                                                                    mat-table
                                                                                                    [dataSource]="dataSourceIngreso"
                                                                                                    matSort>
                                                                                                    <ng-container
                                                                                                        matColumnDef="Descripción">
                                                                                                        <th scope="col"
                                                                                                            mat-header-cell
                                                                                                            *matHeaderCellDef>
                                                                                                            Descripción
                                                                                                        </th>
                                                                                                        <td mat-cell
                                                                                                            *matCellDef="let ingresos">
                                                                                                            {{ingresos.ingreso}}
                                                                                                        </td>
                                                                                                    </ng-container>
                                                                                                    <ng-container
                                                                                                        matColumnDef="Monto">
                                                                                                        <th scope="col"
                                                                                                            mat-header-cell
                                                                                                            *matHeaderCellDef>
                                                                                                            Monto
                                                                                                        </th>
                                                                                                        <td mat-cell
                                                                                                            *matCellDef="let ingresos">
                                                                                                            {{ingresos.monto_ingreso
                                                                                                            |
                                                                                                            currency:'MXN'}}
                                                                                                        </td>
                                                                                                    </ng-container>
                                                                                                    <tr mat-header-row
                                                                                                        *matHeaderRowDef="displayedColumnsIngresos">
                                                                                                    </tr>
                                                                                                    <tr mat-row
                                                                                                        *matRowDef="let row; columns: displayedColumnsIngresos;">
                                                                                                    </tr>
                                                                                                </table>
                                                                                            </div>
                                                                                            <mat-paginator
                                                                                                #paginatorIngresos="matPaginator"
                                                                                                [length]="5"
                                                                                                [pageSize]="5"
                                                                                                [pageSizeOptions]="[5, 10, 25, 100]"
                                                                                                showFirstLastButtons
                                                                                                aria-label="Select page of users">
                                                                                            </mat-paginator>

                                                                                        </div>
                                                                                    </div>
                                                                                </mat-card>
                                                                            </div>
                                                                            <div class="col-md-6">
                                                                                <mat-card appearance="outlined" class="full-width">
                                                                                    <strong>Egresos</strong>
                                                                                    <div class="row">
                                                                                        <div class="col-12">
                                                                                            <div
                                                                                                class="mat-elevation-z8 table-responsive">
                                                                                                <table
                                                                                                    aria-label="Tabla Egresos"
                                                                                                    mat-table
                                                                                                    [dataSource]="dataSourceEgreso"
                                                                                                    matSort>
                                                                                                    <ng-container
                                                                                                        matColumnDef="Descripción">
                                                                                                        <th scope="col"
                                                                                                            mat-header-cell
                                                                                                            *matHeaderCellDef>
                                                                                                            Descripción
                                                                                                        </th>
                                                                                                        <td mat-cell
                                                                                                            *matCellDef="let egresos">
                                                                                                            {{egresos.descripcion}}
                                                                                                        </td>
                                                                                                    </ng-container>
                                                                                                    <ng-container
                                                                                                        matColumnDef="Monto">
                                                                                                        <th scope="col"
                                                                                                            mat-header-cell
                                                                                                            *matHeaderCellDef>
                                                                                                            Monto
                                                                                                        </th>
                                                                                                        <td mat-cell
                                                                                                            *matCellDef="let egresos">
                                                                                                            {{egresos.monto_egreso
                                                                                                            |
                                                                                                            currency:'MXN'}}
                                                                                                        </td>
                                                                                                    </ng-container>
                                                                                                    <tr mat-header-row
                                                                                                        *matHeaderRowDef="displayedColumnsEgresos">
                                                                                                    </tr>
                                                                                                    <tr mat-row
                                                                                                        *matRowDef="let row; columns: displayedColumnsEgresos;">
                                                                                                    </tr>
                                                                                                </table>
                                                                                            </div>
                                                                                            <mat-paginator
                                                                                                #paginatorEgresos="matPaginator"
                                                                                                [length]="5"
                                                                                                [pageSize]="5"
                                                                                                [pageSizeOptions]="[5, 10, 25, 100]"
                                                                                                showFirstLastButtons
                                                                                                aria-label="Select page of users">
                                                                                            </mat-paginator>

                                                                                        </div>
                                                                                    </div>
                                                                                </mat-card>
                                                                            </div>
                                                                            <div class="col-12 text-center">
                                                                                <br>
                                                                            </div>
                                                                            <div class="col-12">
                                                                                <mat-card appearance="outlined" class="full-width">
                                                                                    <strong>Capacidad de
                                                                                        Pago</strong>
                                                                                    <div class="row">
                                                                                        <div class="col-12">
                                                                                            <div class="row">
                                                                                                <div class="col-md-6">
                                                                                                    <mat-form-field
                                                                                                        appearance="outline"
                                                                                                        class="full-width">
                                                                                                        <mat-label>
                                                                                                            Liquidez
                                                                                                        </mat-label>
                                                                                                        <input
                                                                                                            formControlName="liquidez"
                                                                                                            matInput
                                                                                                            [readonly]="true">
                                                                                                        {{liquidez
                                                                                                        |
                                                                                                        currency:'MXN'}}
                                                                                                        -
                                                                                                        {{resultLiquidez}}
                                                                                                        <mat-icon
                                                                                                            matSuffix>
                                                                                                            <span
                                                                                                                class="material-icons-outlined">numbers</span>
                                                                                                        </mat-icon>
                                                                                                    </mat-form-field>
                                                                                                </div>
                                                                                                <div class="col-md-6">
                                                                                                    <mat-form-field
                                                                                                        appearance="outline"
                                                                                                        class="full-width">
                                                                                                        <mat-label>
                                                                                                            Capacidad
                                                                                                            de
                                                                                                            Pago
                                                                                                        </mat-label>
                                                                                                        <input
                                                                                                            formControlName="capPago"
                                                                                                            matInput
                                                                                                            [readonly]="true">
                                                                                                        {{capPago
                                                                                                        |
                                                                                                        number :
                                                                                                        '1.2-2'}}%
                                                                                                        -
                                                                                                        {{resultCapPago}}
                                                                                                        <mat-icon
                                                                                                            matSuffix>
                                                                                                            <span
                                                                                                                class="material-icons-outlined">numbers</span>
                                                                                                        </mat-icon>
                                                                                                    </mat-form-field>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </mat-card>
                                                                            </div>
                                                                        </div>
                                                                    </form>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </mat-tab>
                                                    <!--Datos grantias inicio-->
                                                    <mat-tab label="Datos de la Garant&iacute;as">
                                                        <div class="scroll-container"
                                                            [ngStyle]="{'height': '100%', 'width':'100%'}">
                                                            <div class="row">
                                                                <div class="col-12"
                                                                    *ngIf="vPrendas.length==0 && listaAvales.length==0 && vHipotecas.length==0 && montoGarLiquida==0 && listaInversion.length==0 ">
                                                                    <h3>No se encontraron garant&iacute;as</h3>
                                                                </div>
                                                                <div class="col-12">
                                                                    <mat-card appearance="outlined" class="full-width">
                                                                        <div class="row" *ngIf="listaAvales.length>0">
                                                                            <strong>Aval</strong>
                                                                            <div class="col-12"
                                                                                *ngFor="let aval of listaAvales">
                                                                                <div class="row">
                                                                                    <div class="col-md-3">
                                                                                        <mat-form-field
                                                                                            class="full-width"
                                                                                            appearance="outline">
                                                                                            <mat-label>No. Aval
                                                                                            </mat-label>
                                                                                            <input matInput
                                                                                                placeholder="No. Aval"
                                                                                                value="{{aval.extencionAval.detalle[2]}}">
                                                                                            <mat-icon matSuffix>
                                                                                                numbers
                                                                                            </mat-icon>
                                                                                        </mat-form-field>
                                                                                    </div>
                                                                                    <div class="col-md-3">
                                                                                        <mat-form-field
                                                                                            class="full-width"
                                                                                            appearance="outline">
                                                                                            <mat-label>No.
                                                                                                {{lblCliente}}
                                                                                            </mat-label>
                                                                                            <input matInput
                                                                                                placeholder="No. {{lblCliente}}"
                                                                                                value="{{aval.sujeto[5]}}">
                                                                                            <mat-icon matSuffix>
                                                                                                numbers
                                                                                            </mat-icon>
                                                                                        </mat-form-field>
                                                                                    </div>
                                                                                    <div class="col-md-6">
                                                                                        <mat-form-field
                                                                                            class="full-width"
                                                                                            appearance="outline">
                                                                                            <mat-label>Nombre
                                                                                            </mat-label>
                                                                                            <input matInput
                                                                                                placeholder="Nombre"
                                                                                                value="{{aval.sujeto[1]}} {{aval.sujeto[2]}} {{aval.sujeto[3]}}">
                                                                                            <mat-icon matSuffix>
                                                                                                badge
                                                                                            </mat-icon>
                                                                                        </mat-form-field>
                                                                                    </div>
                                                                                    <div class="col-md-3">
                                                                                        <mat-form-field
                                                                                            class="full-width"
                                                                                            appearance="outline">
                                                                                            <mat-label>Total
                                                                                                Ingresos
                                                                                            </mat-label>
                                                                                            <input matInput
                                                                                                placeholder="Total Ingresos"
                                                                                                value="{{aval.extencionAval.detalle[7]}}">
                                                                                            <mat-icon matSuffix>
                                                                                                paid
                                                                                            </mat-icon>
                                                                                        </mat-form-field>
                                                                                    </div>
                                                                                    <div class="col-md-3">
                                                                                        <mat-form-field
                                                                                            class="full-width"
                                                                                            appearance="outline">
                                                                                            <mat-label>Total
                                                                                                Egresos
                                                                                            </mat-label>
                                                                                            <input matInput
                                                                                                placeholder="Total Egresos"
                                                                                                value="{{aval.extencionAval.detalle[6]}}">
                                                                                            <mat-icon matSuffix>
                                                                                                paid
                                                                                            </mat-icon>
                                                                                        </mat-form-field>
                                                                                    </div>
                                                                                    <div class="col-md-3">
                                                                                        <mat-form-field
                                                                                            class="full-width"
                                                                                            appearance="outline">
                                                                                            <mat-label>Liquidez
                                                                                            </mat-label>
                                                                                            <input matInput
                                                                                                placeholder="Liquidez"
                                                                                                value="{{aval.extencionAval.detalle[4]}}">
                                                                                            <mat-icon matSuffix>
                                                                                                subject
                                                                                            </mat-icon>
                                                                                        </mat-form-field>
                                                                                    </div>
                                                                                    <div class="col-md-3">
                                                                                        <mat-form-field
                                                                                            class="full-width"
                                                                                            appearance="outline">
                                                                                            <mat-label>Capacidad
                                                                                                de pago
                                                                                            </mat-label>
                                                                                            <input matInput
                                                                                                placeholder="Capacidad de pago"
                                                                                                value="{{aval.extencionAval.detalle[5]}}">
                                                                                            <mat-icon matSuffix>
                                                                                                subject
                                                                                            </mat-icon>
                                                                                        </mat-form-field>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <!--col 12 aval-->
                                                                        </div>
                                                                        <!--garantias avales fin-->
                                                                        <div class="row" *ngIf="vHipotecas.length>0">
                                                                            <strong>Hipoteca</strong>
                                                                            <div class="col-12"
                                                                                *ngFor="let hipoteca of vHipotecas">
                                                                                <div class="row">
                                                                                    <div class="col-md-6">
                                                                                        <mat-form-field
                                                                                            class="full-width"
                                                                                            appearance="outline">
                                                                                            <mat-label>
                                                                                                Escrituras
                                                                                            </mat-label>
                                                                                            <input matInput
                                                                                                [readonly]="true"
                                                                                                placeholder="Garantia hipotecaria"
                                                                                                value="{{hipoteca[1]}}">
                                                                                            <mat-icon matSuffix>
                                                                                                house_siding
                                                                                            </mat-icon>
                                                                                        </mat-form-field>
                                                                                    </div>
                                                                                    <div class="col-md-6">
                                                                                        <mat-form-field
                                                                                            class="full-width"
                                                                                            appearance="outline">
                                                                                            <mat-label>Valor
                                                                                            </mat-label>
                                                                                            <input matInput
                                                                                                [readonly]="true"
                                                                                                placeholder="Valor Hipotecario"
                                                                                                value="{{hipoteca[5]}}">
                                                                                            <mat-icon matSuffix>
                                                                                                paid
                                                                                            </mat-icon>
                                                                                        </mat-form-field>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <!--termina grantia hipoteca-->
                                                                        <div class="row" *ngIf="vPrendas.length>0">
                                                                            <strong>Prendaria</strong>
                                                                            <div class="col-12"
                                                                                *ngFor="let prenda of vPrendas">
                                                                                <div class="row">
                                                                                    <div class="col-md-6">
                                                                                        <mat-form-field
                                                                                            class="full-width"
                                                                                            appearance="outline">
                                                                                            <mat-label>Factura
                                                                                            </mat-label>
                                                                                            <input matInput
                                                                                                [readonly]="true"
                                                                                                placeholder="Garantia prendaria"
                                                                                                value="{{prenda[1]}}">
                                                                                            <mat-icon matSuffix>
                                                                                                house_siding
                                                                                            </mat-icon>
                                                                                        </mat-form-field>
                                                                                    </div>
                                                                                    <div class="col-md-6">
                                                                                        <mat-form-field
                                                                                            class="full-width"
                                                                                            appearance="outline">
                                                                                            <mat-label>Valor
                                                                                            </mat-label>
                                                                                            <input matInput
                                                                                                [readonly]="true"
                                                                                                placeholder="Valor prendario"
                                                                                                value="{{prenda[2]}}">
                                                                                            <mat-icon matSuffix>
                                                                                                paid
                                                                                            </mat-icon>
                                                                                        </mat-form-field>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <!--garantia inversion-->
                                                                        <div class="row"
                                                                            *ngIf="listaInversion.length>0">
                                                                            <strong>Inversiones</strong>
                                                                            <div class="col-12"
                                                                                *ngFor="let inv of listaInversion">
                                                                                <div class="row">
                                                                                    <div class="col-md-6">
                                                                                        <mat-form-field
                                                                                            class="full-width"
                                                                                            appearance="outline">
                                                                                            <mat-label>Inversion
                                                                                            </mat-label>
                                                                                            <input matInput
                                                                                                [readonly]="true"
                                                                                                placeholder="Garant&iacute;a inversi&oacute;n"
                                                                                                value="{{inv[2]}}">
                                                                                            <mat-icon matSuffix>
                                                                                                house_siding
                                                                                            </mat-icon>
                                                                                        </mat-form-field>
                                                                                    </div>
                                                                                    <div class="col-md-6">
                                                                                        <mat-form-field
                                                                                            class="full-width"
                                                                                            appearance="outline">
                                                                                            <mat-label>Valor
                                                                                            </mat-label>
                                                                                            <input matInput
                                                                                                [readonly]="true"
                                                                                                placeholder="Monto"
                                                                                                value="{{inv[1]}}">
                                                                                            <mat-icon matSuffix>
                                                                                                paid
                                                                                            </mat-icon>
                                                                                        </mat-form-field>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <!--liquida-->
                                                                        <div class="col-12" *ngIf="montoGarLiquida>0">
                                                                            <mat-selection-list [multiple]="false">
                                                                                <mat-list-option>
                                                                                    <div class="row">
                                                                                        <div class="col-10">
                                                                                            Garant&iacute;a
                                                                                            l&iacute;quida -
                                                                                            Saldo requerido:
                                                                                            {{montoGarLiquida |
                                                                                            currency:'MXN'}}
                                                                                        </div>
                                                                                    </div>
                                                                                </mat-list-option>
                                                                            </mat-selection-list>
                                                                        </div>
                                                                        <!--garantia liquida-->
                                                                    </mat-card>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </mat-tab>
                                                    <!--Datos grantias fin-->
                                                    <mat-tab label="Evaluaci&oacute;n 5C´s">
                                                        <div class="row; scroll-container"
                                                            [ngStyle]="{'height': '100%', 'width':'100%'}">
                                                            <div class="col-12">
                                                                <div class="row">
                                                                    <div class="col-12 text-center">
                                                                        <br>
                                                                    </div>
                                                                    <div class="col-12 text-center">
                                                                        <h2> An&aacute;lisis de las 5C's</h2>
                                                                    </div>
                                                                    <div class="col-12">
                                                                        <div class="mat-elevation-z8 table-responsive">
                                                                            <table aria-label="Tabla 5" mat-table
                                                                                [dataSource]="dataSource5CS" matSort>
                                                                                <ng-container matColumnDef="Referencia">
                                                                                    <th style="padding: 16px;"
                                                                                        scope="col" mat-header-cell
                                                                                        *matHeaderCellDef>
                                                                                        Referencia de
                                                                                        cr&eacute;dito
                                                                                    </th>
                                                                                    <td style="padding: 16px;" mat-cell
                                                                                        *matCellDef="let cinco">
                                                                                        {{cinco.referencia}}
                                                                                    </td>
                                                                                </ng-container>
                                                                                <ng-container matColumnDef="Monto">
                                                                                    <th style="padding: 16px;"
                                                                                        scope="col" mat-header-cell
                                                                                        *matHeaderCellDef>
                                                                                        Monto
                                                                                    </th>
                                                                                    <td style="padding: 16px;" mat-cell
                                                                                        *matCellDef="let cinco">
                                                                                        {{cinco.monto_credito |
                                                                                        currency:'MXN'}}
                                                                                    </td>
                                                                                </ng-container>
                                                                                <ng-container matColumnDef="Caracter">
                                                                                    <th style="padding: 16px;"
                                                                                        scope="col" mat-header-cell
                                                                                        *matHeaderCellDef>
                                                                                        Car&aacute;cter
                                                                                    </th>
                                                                                    <td style="padding: 16px;" mat-cell
                                                                                        *matCellDef="let cinco">
                                                                                        {{cinco.caracter_resultado}}
                                                                                    </td>
                                                                                </ng-container>
                                                                                <ng-container matColumnDef="Capital">
                                                                                    <th style="padding: 16px;"
                                                                                        scope="col" mat-header-cell
                                                                                        *matHeaderCellDef>
                                                                                        Capital
                                                                                    </th>
                                                                                    <td style="padding: 16px;" mat-cell
                                                                                        *matCellDef="let cinco">
                                                                                        {{cinco.capital}}
                                                                                    </td>
                                                                                </ng-container>
                                                                                <ng-container matColumnDef="CPago">
                                                                                    <th style="padding: 16px;"
                                                                                        scope="col" mat-header-cell
                                                                                        *matHeaderCellDef>
                                                                                        Cap. de Pago
                                                                                    </th>
                                                                                    <td style="padding: 16px;" mat-cell
                                                                                        *matCellDef="let cinco">
                                                                                        {{cinco.capacidad_pago_resultado}}
                                                                                    </td>
                                                                                </ng-container>
                                                                                <ng-container matColumnDef="Condicion">
                                                                                    <th style="padding: 16px;"
                                                                                        scope="col" mat-header-cell
                                                                                        *matHeaderCellDef>
                                                                                        Condici&oacute;n
                                                                                    </th>
                                                                                    <td style="padding: 16px;" mat-cell
                                                                                        *matCellDef="let cinco">
                                                                                        {{cinco.condicion_resultado}}
                                                                                    </td>
                                                                                </ng-container>
                                                                                <ng-container matColumnDef="Colateral">
                                                                                    <th style="padding: 16px;"
                                                                                        scope="col" mat-header-cell
                                                                                        *matHeaderCellDef>
                                                                                        Colateral
                                                                                    </th>
                                                                                    <td style="padding: 16px;" mat-cell
                                                                                        *matCellDef="let cinco">
                                                                                        {{cinco.colateral_resultado}}
                                                                                    </td>
                                                                                </ng-container>
                                                                                <ng-container matColumnDef="Resultado">
                                                                                    <th style="padding: 16px;"
                                                                                        scope="col" mat-header-cell
                                                                                        *matHeaderCellDef>
                                                                                        Resultado
                                                                                    </th>
                                                                                    <td style="padding: 16px;" mat-cell
                                                                                        *matCellDef="let cinco">
                                                                                        {{cinco.caracter_resultado+cinco.capital+cinco.capacidad_pago_resultado+cinco.condicion_resultado+cinco.colateral_resultado}}
                                                                                    </td>
                                                                                </ng-container>
                                                                                <ng-container matColumnDef="Dictamen">
                                                                                    <th style="padding: 16px;"
                                                                                        scope="col" mat-header-cell
                                                                                        *matHeaderCellDef>
                                                                                        Dictamen
                                                                                    </th>
                                                                                    <td style="padding: 16px;" mat-cell
                                                                                        *matCellDef="let cinco">
                                                                                        {{dictamen}}
                                                                                    </td>
                                                                                </ng-container>
                                                                                <tr mat-header-row
                                                                                    *matHeaderRowDef="displayedColumns5CS">
                                                                                </tr>
                                                                                <tr mat-row
                                                                                    *matRowDef="let row; columns: displayedColumns5CS;">
                                                                                </tr>
                                                                            </table>
                                                                        </div>
                                                                        <mat-paginator
                                                                            #paginatorEvaluacion="matPaginator"
                                                                            [length]="5" [pageSize]="5"
                                                                            [pageSizeOptions]="[5, 10, 25, 100]"
                                                                            showFirstLastButtons
                                                                            aria-label="Select page of users">
                                                                        </mat-paginator>

                                                                    </div>
                                                                </div>

                                                            </div>
                                                        </div>
                                                    </mat-tab>
                                                </mat-tab-group>
                                            </div>
                                        </div>
                                    </mat-tab>
                                    <!-- Inicio Digitalizacion-->
                                    <mat-tab label="Digitalizaci&oacute;n" *ngIf="listaDocsClientes.length > 0">

                                        <mat-tab-group backgroundColor="primary">
                                            <mat-tab label="Cliente">
                                                <div class="row">
                                                <div class="col-md-6" *ngIf="listaDocsClientes.length > 0">
                                                    <h2 class="text-center">Documentos Clientes a Digitalizar</h2>
                                                    <mat-selection-list [multiple]="false">
                                                        <mat-list-option *ngFor="let documento of listaDocsClientes"
                                                            [value]="documento">
                                                            <div class="row">
                                                                <div class="col-10">
                                                                    {{documento.descripcion}}
                                                                </div>
                                                                <div class="col-2">
                                                                    <input #digiCliInput hidden="true" type="file"
                                                                        [accept]="acceptFormatos(documento)"
                                                                        (change)="subirArchivoCliente($event,documento)" />
                                                                    <button (click)="digiCliInput.click()" mat-mini-fab
                                                                        color="primary">
                                                                        <mat-icon>file_upload</mat-icon>
                                                                    </button>
                                                                </div>
                                                            </div>

                                                        </mat-list-option>
                                                    </mat-selection-list>
                                                </div>

                                                <div class="col-md-6" *ngIf="listaDocsClientes.length > 0">
                                                    <h2 *ngIf="listaDocsCliDgt.length > 0" class="text-center col-12">
                                                        Documentos Clientes Digitalizados</h2>

                                                    <mat-selection-list [multiple]="false">
                                                        <mat-list-option *ngFor="let documento of listaDocsCliDgt"
                                                            [value]="documento">
                                                            <div class="row">
                                                                <div class="col-10">
                                                                    {{documento[2]}}
                                                                </div>
                                                                <div class="col-2">
                                                                    <button mat-mini-fab color="primary"
                                                                        (click)="openDialogDoc(documento)">
                                                                        <mat-icon>visibility</mat-icon>
                                                                    </button>
                                                                </div>
                                                            </div>

                                                        </mat-list-option>
                                                    </mat-selection-list>

                                                </div>
                                            </div>
                                            </mat-tab>

                                            <mat-tab label="Hipoteca" *ngIf="listaDocsHipoteca.length > 0">
                                                <div class="row">
                                                <div class="col-md-6" *ngIf="listaDocsHipoteca.length > 0">
                                                    <h2 class="text-center">Documentos Hipoteca a Digitalizar</h2>
                                                    <mat-selection-list [multiple]="false">
                                                        <mat-list-option *ngFor="let documento of listaDocsHipoteca"
                                                            [value]="documento">
                                                            <div class="row">
                                                                <div class="col-10">
                                                                    {{documento.descripcion}}
                                                                </div>
                                                                <div class="col-2">
                                                                    <input #digiCliInput hidden="true" type="file"
                                                                        [accept]="acceptFormatos(documento)"
                                                                        (change)="subirArchivoGarantias($event,documento)" />
                                                                    <button (click)="digiCliInput.click()" mat-mini-fab
                                                                        color="primary">
                                                                        <mat-icon>file_upload</mat-icon>
                                                                    </button>
                                                                </div>
                                                            </div>

                                                        </mat-list-option>
                                                    </mat-selection-list>
                                                </div>

                                                <div class="col-md-6" *ngIf="listaDocsHipoteca.length > 0">
                                                    <h2 *ngIf="listaDocsHipotecaDgt.length > 0"
                                                        class="text-center col-12">
                                                        Documentos Hipoteca Digitalizados</h2>

                                                    <mat-selection-list [multiple]="false">
                                                        <mat-list-option *ngFor="let documento of listaDocsHipotecaDgt"
                                                            [value]="documento">
                                                            <div class="row">
                                                                <div class="col-10">
                                                                    {{documento[2]}}
                                                                </div>
                                                                <div class="col-2">
                                                                    <button mat-mini-fab color="primary"
                                                                        (click)="openDialogDoc(documento)">
                                                                        <mat-icon>visibility</mat-icon>
                                                                    </button>
                                                                </div>
                                                            </div>

                                                        </mat-list-option>
                                                    </mat-selection-list>
                                                </div>
                                            </div>
                                            </mat-tab>

                                            <mat-tab label="Prenda" *ngIf="listaDocsPrendaria.length > 0">
                                                <div class="row">
                                                <div class="col-md-6" *ngIf="listaDocsPrendaria.length > 0">
                                                    <h2 class="text-center">Documentos Prendas a Digitalizar</h2>
                                                    <mat-selection-list [multiple]="false">
                                                        <mat-list-option *ngFor="let documento of listaDocsPrendaria"
                                                            [value]="documento">
                                                            <div class="row">
                                                                <div class="col-10">
                                                                    {{documento.descripcion}}
                                                                </div>
                                                                <div class="col-2">
                                                                    <input #digiCliInput hidden="true" type="file"
                                                                        [accept]="acceptFormatos(documento)"
                                                                        (change)="subirArchivoGarantias($event,documento)" />
                                                                    <button (click)="digiCliInput.click()" mat-mini-fab
                                                                        color="primary">
                                                                        <mat-icon>file_upload</mat-icon>
                                                                    </button>
                                                                </div>
                                                            </div>

                                                        </mat-list-option>
                                                    </mat-selection-list>
                                                </div>

                                                <div class="col-md-6" *ngIf="listaDocsPrendaria.length > 0">
                                                    <h2 *ngIf="listaDocsPrendariaDgt.length > 0"
                                                        class="text-center col-12">
                                                        Documentos Prendas Digitalizados</h2>

                                                    <mat-selection-list [multiple]="false">
                                                        <mat-list-option *ngFor="let documento of listaDocsPrendariaDgt"
                                                            [value]="documento">
                                                            <div class="row">
                                                                <div class="col-10">
                                                                    {{documento[2]}}
                                                                </div>
                                                                <div class="col-2">
                                                                    <button mat-mini-fab color="primary"
                                                                        (click)="openDialogDoc(documento)">
                                                                        <mat-icon>visibility</mat-icon>
                                                                    </button>
                                                                </div>
                                                            </div>

                                                        </mat-list-option>
                                                    </mat-selection-list>
                                                </div>
                                            </div>
                                            </mat-tab>

                                            <mat-tab label="Garantía Liquida"
                                                *ngIf="listaDocsGarantiaLiquida.length > 0">
                                                <div class="row">
                                                <div class="col-md-6" *ngIf="listaDocsGarantiaLiquida.length > 0">
                                                    <h2 class="text-center">Documentos Garant&iacute;as Liquidas a
                                                        Digitalizar</h2>
                                                    <mat-selection-list [multiple]="false">
                                                        <mat-list-option
                                                            *ngFor="let documento of listaDocsGarantiaLiquida"
                                                            [value]="documento">
                                                            <div class="row">
                                                                <div class="col-10">
                                                                    {{documento.descripcion}}
                                                                </div>
                                                                <div class="col-2">
                                                                    <input #digiCliInput hidden="true" type="file"
                                                                        [accept]="acceptFormatos(documento)"
                                                                        (change)="subirArchivoGarantias($event,documento)" />
                                                                    <button (click)="digiCliInput.click()" mat-mini-fab
                                                                        color="primary">
                                                                        <mat-icon>file_upload</mat-icon>
                                                                    </button>
                                                                </div>
                                                            </div>

                                                        </mat-list-option>
                                                    </mat-selection-list>
                                                </div>

                                                <div class="col-md-6" *ngIf="listaDocsGarantiaLiquida.length > 0">
                                                    <h2 *ngIf="listaDocsGarantiaLiquidaDgt.length > 0"
                                                        class="text-center col-12">
                                                        Documentos Garant&iacute;as Liquidas Digitalizados</h2>

                                                    <mat-selection-list [multiple]="false">
                                                        <mat-list-option
                                                            *ngFor="let documento of listaDocsGarantiaLiquidaDgt"
                                                            [value]="documento">
                                                            <div class="row">
                                                                <div class="col-10">
                                                                    {{documento[2]}}
                                                                </div>
                                                                <div class="col-2">
                                                                    <button mat-mini-fab color="primary"
                                                                        (click)="openDialogDoc(documento)">
                                                                        <mat-icon>visibility</mat-icon>
                                                                    </button>
                                                                </div>
                                                            </div>

                                                        </mat-list-option>
                                                    </mat-selection-list>
                                                </div>
                                            </div>
                                            </mat-tab>

                                            <mat-tab label="Inversión" *ngIf="listaDocsInversion.length > 0">


                                                <div class="row">
                                                <div class="col-md-6" *ngIf="listaDocsInversion.length > 0">
                                                    <h2 class="text-center">Documentos Inversiones a Digitalizar</h2>
                                                    <mat-selection-list [multiple]="false">
                                                        <mat-list-option *ngFor="let documento of listaDocsInversion"
                                                            [value]="documento">
                                                            <div class="row">
                                                                <div class="col-10">
                                                                    {{documento.descripcion}}
                                                                </div>
                                                                <div class="col-2">
                                                                    <input #digiCliInput hidden="true" type="file"
                                                                        [accept]="acceptFormatos(documento)"
                                                                        (change)="subirArchivoGarantias($event,documento)" />
                                                                    <button (click)="digiCliInput.click()" mat-mini-fab
                                                                        color="primary">
                                                                        <mat-icon>file_upload</mat-icon>
                                                                    </button>
                                                                </div>
                                                            </div>

                                                        </mat-list-option>
                                                    </mat-selection-list>
                                                </div>

                                                <div class="col-md-6" *ngIf="listaDocsInversion.length > 0">
                                                    <h2 *ngIf="listaDocsInversionDgt.length > 0"
                                                        class="text-center col-12">
                                                        Documentos Inversiones Digitalizados</h2>

                                                    <mat-selection-list [multiple]="false">
                                                        <mat-list-option *ngFor="let documento of listaDocsInversionDgt"
                                                            [value]="documento">
                                                            <div class="row">
                                                                <div class="col-10">
                                                                    {{documento[2]}}
                                                                </div>
                                                                <div class="col-2">
                                                                    <button mat-mini-fab color="primary"
                                                                        (click)="openDialogDoc(documento)">
                                                                        <mat-icon>visibility</mat-icon>
                                                                    </button>
                                                                </div>
                                                            </div>

                                                        </mat-list-option>
                                                    </mat-selection-list>
                                                </div>
                                            </div>
                                            </mat-tab>

                                        </mat-tab-group>

                                    </mat-tab>
                                    <!-- Fin Digitalizacion-->
                                    <!-- Inicio Comisiones-->
                                    <mat-tab label="Comisiones">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="card card-body">

                                                    <mat-list *ngFor="let comision of listaComisiones">
                                                        <mat-list-item *ngIf="comision.cveCalculo === '61CC'">
                                                            {{comision.tipoComision}} {{comision.valor |
                                                            currency:'MXN'}}</mat-list-item>
                                                        <mat-list-item *ngIf="comision.cveCalculo === '61CP'">
                                                            {{comision.tipoComision}} {{comision.valor}}%
                                                        </mat-list-item>
                                                    </mat-list>

                                                </div>
                                            </div>
                                        </div>
                                    </mat-tab>
                                    <!-- Fin Comisiones-->
                                </mat-tab-group>
                            </form>
                        </div>
                    </div>
                </mat-tab>
                <mat-tab label="Aprobación o Negación" [disabled]="!habilitarTab">
                    <div class="row; scroll-container" [ngStyle]="{'height': '100%', 'width':'100%'}">
                        &nbsp;
                        <strong>Detalle respuesta solicitud de cr&eacute;dito</strong>
                        &nbsp;&nbsp;
                        <form [formGroup]="formAprobacion">
                            <div class="col-12">
                                <div class="row">
                                    <div class="col-md-6">
                                        <mat-label><strong>Monto solicitado:</strong></mat-label>
                                        <input formControlName="montoS" matInput placeholder="Monto solicitado"
                                        class="borderFuera"  [readonly]="true">
                                    </div>
                                    <div class="col-md-6">
                                        <mat-label><strong>Fecha aprobaci&oacute;n:</strong></mat-label>
                                        <input class="borderFuera"  matInput formControlName="fechaP" [readonly]="true">
                                    </div>
                                    <div class="col-md-6">
                                        <mat-label> <strong>Aprobado por:</strong>
                                        </mat-label>
                                        <input class="borderFuera"  formControlName="usuario" matInput [readonly]="true">
                                    </div>
                                    <div class="col-md-6">
                                        <mat-label><strong>Cargo:</strong>
                                        </mat-label>
                                        <input class="borderFuera"  formControlName="cargo" matInput [readonly]="true">
                                    </div>
                                    <div class="col-md-12">
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        <mat-divider></mat-divider>
                                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                    </div>
                                    <div class="col-md-6">
                                        <mat-form-field appearance="outline" class="full-width">
                                            <mat-label>Estatus solicitud: </mat-label>
                                            <input matInput formControlName="estSol" name="estSol" [readonly]="true">
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-6">
                                        <mat-form-field appearance="outline" class="full-width">
                                            <mat-label>
                                                Monto Aprobado:
                                            </mat-label>
                                            <input formControlName="montoAp" matInput [readonly]="true">
                                            <mat-icon matSuffix>
                                                <span class="material-icons-outlined">numbers</span>
                                            </mat-icon>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-12">
                                        <mat-form-field appearance="outline" class="full-width">
                                            <mat-label>
                                                Observaciones:
                                            </mat-label>
                                            <textarea formControlName="descripSol" matInput
                                                [readonly]="true"></textarea>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <!--row-->
                            </div>
                        </form>
                        <!--form aporbacion-->
                    </div>
                    <!--scroll-container-->
                </mat-tab>
                <mat-tab label="Autorización" [disabled]="!habilitarTab">
                    <div class="row">
                        <div class="col-12">
                            &nbsp;
                            <strong>Detalle de cr&eacute;dito</strong>
                            &nbsp;&nbsp;
                            <form [formGroup]="formAutorizacion">
                                <div class="col-12">
                                    <div class="row">
                                        <div class="col-md-3">
                                            <mat-label><strong>Tipo:</strong></mat-label><br>
                                            <input formControlName="tipoCr" matInput placeholder="Tipo Crédito"
                                            class="borderFuera"  [readonly]="true">
                                        </div>
                                        <div class="col-md-3">
                                            <mat-label><strong>Finalidad:</strong></mat-label><br>
                                            <input formControlName="finalidad" matInput
                                            class="borderFuera"  placeholder="Finalidad del crédito" [readonly]="true">
                                        </div>
                                        <div class="col-md-3">
                                            <mat-label><strong>Estatus:</strong></mat-label><br>
                                            <input formControlName="estCred" matInput placeholder="Estatus del crédito"
                                            class="borderFuera"  [readonly]="true">
                                        </div>
                                        <div class="col-md-3">
                                            <button color="primary" mat-mini-fab aria-label="Imprime">
                                                <mat-icon matTooltip="Imprime documentos">print</mat-icon>
                                            </button>
                                        </div>
                                        <div class="col-md-3">
                                            <mat-label><strong>Monto Otorgado:</strong></mat-label><br>
                                            <input formControlName="montOtor" matInput placeholder="Monto otorgado"
                                            class="borderFuera"   [readonly]="true">
                                        </div>
                                        <div class="col-md-3">
                                            <mat-label><strong>Tasa normal:</strong></mat-label><br>
                                            <input class="borderFuera"  matInput formControlName="tasaN" [readonly]="true">
                                        </div>
                                        <div class="col-md-3">
                                            <mat-label><strong>Tasa moratoria:</strong></mat-label><br>
                                            <input class="borderFuera"  matInput formControlName="tasaM" [readonly]="true">
                                        </div>
                                        <div class="col-md-3">
                                            <button color="primary" mat-mini-fab aria-label="Imprime">
                                                <mat-icon matTooltip="Imprime calendario de pagos">
                                                    calendar_month
                                                </mat-icon>
                                            </button>
                                        </div>
                                        <div class="col-md-3">
                                            <mat-label><strong>Fecha Otorgamiento:</strong></mat-label><br>
                                            <input class="borderFuera"  matInput formControlName="fechaOtor" [readonly]="true">
                                        </div>
                                        <div class="col-md-3">
                                            <mat-label> <strong>Autorizado por:</strong>
                                            </mat-label><br>
                                            <input class="borderFuera"  formControlName="usuarioA" matInput [readonly]="true">
                                        </div>
                                        <div class="col-md-3"></div>
                                        <div class="col-md-3">
                                            <button color="primary" mat-mini-fab aria-label="Renovar">
                                                <mat-icon matTooltip="Renovaciones">
                                                    restore
                                                </mat-icon>
                                            </button>
                                        </div>
                                        <div class="col-md-12 a">
                                            &nbsp;
                                            <mat-label><strong>Condiciones de cr&eacute;dito</strong></mat-label>
                                            <mat-divider></mat-divider>
                                            &nbsp;
                                        </div>
                                        <div class="col-md-3">
                                            <mat-label> <strong>No. de amortizaciones:</strong>
                                            </mat-label>
                                            <input class="borderFuera"  formControlName="noAmort" matInput [readonly]="true">
                                        </div>
                                        <div class="col-md-3">
                                            <mat-label> <strong>Perido:</strong>
                                            </mat-label><br>
                                            <input class="borderFuera"  formControlName="periodo" matInput [readonly]="true">
                                        </div>
                                        <div class="col-md-3">
                                            <mat-label> <strong>1° Pago:</strong>
                                            </mat-label><br>
                                            <input class="borderFuera"  formControlName="primerPago" matInput [readonly]="true">
                                        </div>
                                        <div class="col-md-3">
                                            <mat-label> <strong>Vencimiento:</strong>
                                            </mat-label><br>
                                            <input class="borderFuera"  formControlName="vencimiento" matInput [readonly]="true">
                                        </div>
                                        &nbsp;
                                    </div>
                                    <!--row-->
                                </div>
                            </form>
                        </div>
                        <!--col12-->
                    </div>
                </mat-tab>
            </mat-tab-group>
        </div>
    </div>
</div>