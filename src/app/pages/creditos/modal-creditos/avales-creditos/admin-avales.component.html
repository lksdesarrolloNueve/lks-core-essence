<!--Se hace dinámico el título del modal, de acuerdo si es
un guardado o  un editado-->
<div class="row"> 
<h2 mat-dialog-title class="col-11">{{titulo}}</h2>
<div class="col-1  c"> 
  <button  mat-button mat-dialog-close>
    <mat-icon matTooltip="Cerrar">highlight_off</mat-icon>
  </button>
  </div>
</div>
<mat-dialog-content class="mat-typography">
  <div class="row">
    <div class="col-md-4">
        <div class="card card-body">
        <h2 class=" text-center">{{nombreTab}}</h2>
    </div>
    </div>
    <div class="col-md-8 text-center">
        <div class="card card-body">
            <div class="row"> 
              <div class="col-2 c" *ngIf="accion==1">
                <button mat-fab color="primary" (click)="formarJsonAval()">
                  <mat-icon matTooltip="Guardar">done_outline</mat-icon>
                </button>
              </div>    
              <div class="col-2 c" *ngIf="accion==2">
                <button mat-fab color="primary" (click)="formarJsonAval()">
                  <mat-icon matTooltip="Actualizar">create</mat-icon>
                </button>
              </div>  
            </div>
    </div> 
</div>
</div>
  <!--Se inicia la estructura del formAvales-->
  <mat-tab-group (selectedTabChange)="tabSeleccionada($event)" backgroundColor="primary">
    <mat-tab label="Datos generales">
      <br>
      <!--Formulario Datos Generales-->
      <form [formGroup]="formDatosG">
        <div class="row">
          <div class="col-md-4">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Apellido Paterno</mat-label>
              <input matInput formControlName="apeP" placeholder="Apellido Paterno">
              <mat-icon matSuffix>boy</mat-icon>
              <ng-template ngFor let-error [ngForOf]="validacionesDatosG.apeP" ngProjectAs="mat-error">
                <mat-error *ngIf="formDatosG.get('apeP').hasError(error.type)">
                  <strong> {{error.message}}</strong>
                </mat-error>
              </ng-template>
            </mat-form-field>
          </div>
          <div class="col-md-4">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Apellido Materno</mat-label>
              <input matInput formControlName="apeM" placeholder="Apellido Materno">
              <mat-icon matSuffix>girl</mat-icon>
            </mat-form-field>
          </div>
          <div class="col-md-3">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Nombre(s)</mat-label>
              <input matInput formControlName="nombres" placeholder="Nombre(s)">
              <mat-icon matSuffix>insert_emoticon</mat-icon>
              <ng-template ngFor let-error [ngForOf]="validacionesDatosG.nombres" ngProjectAs="mat-error">
                <mat-error *ngIf="formDatosG.get('nombres').hasError(error.type)">
                  <strong> {{error.message}}</strong>
                </mat-error>
              </ng-template>
            </mat-form-field>
          </div>
          <div class="col-md-1"><!--buscar cliente para ser aval-->
            <button mat-icon-button color="primary" matTooltip="Buscar {{lblCliente}} " (click)="buscar(1)">
              <mat-icon>search</mat-icon>
            </button>
          </div>
          <div class="col-md-4">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Fecha de Nacimiento</mat-label>
              <input matInput formControlName="fechaN" [matDatepicker]="nacimiento" [readonly]="true" (dateChange)="buscarSujeto()" placeholder="10-05-1995">
              <mat-datepicker-toggle matSuffix [for]="nacimiento"></mat-datepicker-toggle>
             <mat-datepicker #nacimiento disabled="false"> </mat-datepicker>
              <ng-template ngFor let-error [ngForOf]="validacionesDatosG.fechaN" ngProjectAs="mat-error">
                <mat-error *ngIf="formDatosG.get('fechaN').hasError(error.type)">
                  <strong> {{error.message}}</strong>
                </mat-error>
              </ng-template>
            </mat-form-field>
          </div>
          <div class="col-md-4">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>G&eacute;nero</mat-label>
              <mat-select formControlName="genero">
                <mat-option *ngFor="let genero of listaGenero" [value]="genero">
                  {{genero.descripcion}}
                </mat-option>
              </mat-select>
              <mat-icon matSuffix>transgender</mat-icon>
              <ng-template ngFor let-error [ngForOf]="validacionesDatosG.genero" ngProjectAs="mat-error">
                <mat-error *ngIf="formDatosG.get('genero').hasError(error.type)">
                  <strong> {{error.message}}</strong>
                </mat-error>
              </ng-template>
            </mat-form-field>
          </div>
          <div class="col-md-4">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Nacionalidad</mat-label>
              <input type="text" placeholder="Nacionalidad" matInput formControlName="nacionalidadNac"
                [matAutocomplete]="autoNacCl">
              <mat-autocomplete autoActiveFirstOption #autoNacCl="matAutocomplete" [displayWith]="mostrarNac">
                <mat-option *ngFor="let option of opcionesNac | async" [value]="option">
                  {{option.nacion}}
                </mat-option>
              </mat-autocomplete>
              <mat-icon matSuffix>language</mat-icon>
              <ng-template ngFor let-error [ngForOf]="validacionesDatosG.nacionalidadNac" ngProjectAs="mat-error">
                <mat-error *ngIf="formDatosG.get('nacionalidadNac').hasError(error.type)">
                  <strong> {{error.message}}</strong>
                </mat-error>
              </ng-template>
            </mat-form-field>
          </div>
          <div class="col-md-3">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Ent.Federativa</mat-label>
              <input type="text" placeholder="Entidad federativa" matInput formControlName="entFedeNac"
                [matAutocomplete]="autoEstNacCl">
              <mat-autocomplete autoActiveFirstOption #autoEstNacCl="matAutocomplete"
                (optionSelected)="opcionSeleccionadaEstNac($event)" [displayWith]="mostrarEstado">
                <mat-option *ngFor="let option of opcionesEstadoNac | async" [value]="option">
                  {{option.nombreEstado}}
                </mat-option>
              </mat-autocomplete>
              <mat-icon matSuffix>map</mat-icon>
              <ng-template ngFor let-error [ngForOf]="validacionesDatosG.entFedeNac" ngProjectAs="mat-error">
                <mat-error *ngIf="formDatosG.get('entFedeNac').hasError(error.type)">
                  <strong> {{error.message}}</strong>
                </mat-error>
              </ng-template>
            </mat-form-field>
          </div>
          <div class="col-md-3">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Municipio</mat-label>
              <input type="text" placeholder="Ciudad de nacimiento" matInput formControlName="mpNac"
                [matAutocomplete]="autoCiuCl">
              <mat-autocomplete autoActiveFirstOption #autoCiuCl="matAutocomplete" [displayWith]="mostrarCd">
                <mat-option *ngFor="let option of opcionesCiudadesNac | async" [value]="option">
                  {{option.nombre}}
                </mat-option>
              </mat-autocomplete>
              <mat-icon matSuffix>map</mat-icon>
              <ng-template ngFor let-error [ngForOf]="validacionesDatosG.mpNac" ngProjectAs="mat-error">
                <mat-error *ngIf="formDatosG.get('mpNac').hasError(error.type)">
                  <strong> {{error.message}}</strong>
                </mat-error>
              </ng-template>
            </mat-form-field>
          </div>
          <div class="col-md-3">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>RFC</mat-label>
              <input matInput formControlName="rfc" placeholder="RFC">
              <mat-icon matSuffix>qr_code_2</mat-icon>
            </mat-form-field>
          </div>
          <div class="col-md-3">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>CURP</mat-label>
              <input matInput formControlName="curp" placeholder="CURP">
              <mat-icon matSuffix>how_to_reg</mat-icon>
            </mat-form-field>
          </div>
          <!--4° Fila-->
          <div class="col-md-3">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Tel&eacute;fono</mat-label>
              <input matInput formControlName="tel" MaxLength="10" placeholder="4221009090">
              <mat-icon matSuffix>phone</mat-icon>
              <ng-template ngFor let-error [ngForOf]="validacionesDatosG.tel" ngProjectAs="mat-error">
                <mat-error *ngIf="formDatosG.get('tel').hasError(error.type)">
                  <strong> {{error.message}}</strong>
                </mat-error>
              </ng-template>
            </mat-form-field>
          </div>
          <div class="col-md-3">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Correo electr&oacute;nico</mat-label>
              <input matInput formControlName="email" type="email" placeholder="example@gmail.com">
              <mat-icon matSuffix>contact_mail</mat-icon>
              <ng-template ngFor let-error [ngForOf]="validacionesDatosG.email" ngProjectAs="mat-error">
                <mat-error *ngIf="formDatosG.get('email').hasError(error.type)">
                  <strong> {{error.message}}</strong>
                </mat-error>
              </ng-template>
            </mat-form-field>
          </div>
        </div><!-- /.row -->
      </form>
      <!--Termina Formulario Datos Generales-->
    </mat-tab>
    <mat-tab label="Identificaciones">
      <br>
      <form [formGroup]="formIdentifiaciones">
        <div class="row">
          <div class="col-md-6">
            <mat-form-field  appearance="outline" class="full-width">
              <mat-label>Tipo Identificaci&oacute;n</mat-label>
              <input type="text" matInput formControlName="tipoIdentificacion" [matAutocomplete]="auto6">
              <mat-icon matSuffix><span class="material-icons-outlined">list</span></mat-icon>
              <mat-autocomplete autoActiveFirstOption #auto6="matAutocomplete" [displayWith]="displayFnTD">
                <mat-option *ngFor="let option of opcionesIdentificaciones | async" [value]="option">
                  {{option.descripcion}}
                </mat-option>
              </mat-autocomplete>
              <ng-template ngFor let-error [ngForOf]="validaciones.tipoIdentificacion" ngProjectAs="mat-error">
                <mat-error *ngIf="formIdentifiaciones.get('tipoIdentificacion').hasError(error.type)">
                  <strong> {{error.message}}</strong>
                </mat-error>
              </ng-template>
            </mat-form-field>
          </div>
          <div class="col-md-6">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>N&uacute;m. Identificacion</mat-label>
              <input formControlName="numIdentificacion" matInput placeholder="1234">
              <mat-icon matSuffix>
                <span class="material-icons-outlined">badge</span>
              </mat-icon>
              <ng-template ngFor let-error [ngForOf]="validaciones.numIdentificacion" ngProjectAs="mat-error">
                <mat-error *ngIf="formIdentifiaciones.get('numIdentificacion').hasError(error.type)">
                  <strong> {{error.message}}</strong>
                </mat-error>
              </ng-template>
            </mat-form-field>
          </div>
          <div class="col-md-6">
            <p>
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Vigencia</mat-label>
                <input matInput [matDatepicker]="fV" formControlName="vigencia">
                <mat-datepicker-toggle matSuffix [for]="fV"></mat-datepicker-toggle>
                <mat-datepicker #fV disabled="false"></mat-datepicker>
                <mat-error *ngIf="formIdentifiaciones.get('vigencia').hasError('required')">
                  Fecha requerida
                </mat-error>
              </mat-form-field>
            </p>
          </div>
          <div class="col-md-4"></div>
          <div class="col-md-2">
            <button color="primary" mat-mini-fab matTooltip="Agregar" (click)="agregarIdentificaciones()"
              aria-label="Example icon-button with a heart icon">
              <mat-icon>
                add_circle
              </mat-icon>
            </button>
          </div>
          <div class="col-md-12 text-center">
            <br>
            <mat-divider></mat-divider>
          </div>
          <div class="col-md-12">
            <mat-nav-list class="scroll-container" [ngStyle]="{'height': '200px', 'width':'100%'}">
              <mat-list-item *ngFor="let seleccionados of listaIdentificacionesSeleccionados; let i = index">
                <p matListItemTitle (click)="mostrarIdentificacion(seleccionados)">
                  <strong>Identificaci&oacute;n:</strong>{{seleccionados[4]}} , <strong>N&uacute;mero:</strong> {{seleccionados[1]}}
                 </p>
                <button color="primary" mat-mini-fab matListItemMeta matTooltip="Eliminar"
                  (click)="eliminarIdentificaciones(seleccionados)">
                  <mat-icon>cancel</mat-icon>
                </button>
              </mat-list-item>
            </mat-nav-list>
          </div>
        </div>
      </form>
    </mat-tab>
    <mat-tab label="Domicilio">
      <!--Se inicia la estructura del formDomicilio-->
      <br>
      <form [formGroup]="formDomicilioCl">
        <div class="row">
          <!-------Filtro Nacionalidad -->
          <div class="col-md-4">
            <mat-form-field class="full-width" appearance="outline" class="full-width">
              <mat-label>Nacionalidad</mat-label>
              <mat-icon matSuffix>map</mat-icon>
              <input type="text" placeholder="Nacionalidad" matInput formControlName="catNacionalidad"
                [matAutocomplete]="autoNacionalidadCl">
              <mat-autocomplete autoActiveFirstOption #autoNacionalidadCl="matAutocomplete" [displayWith]="mostrarNac">
                <mat-option *ngFor="let option of opcionesNacionalidad | async" [value]="option">
                  {{option.nacion}}
                </mat-option>
              </mat-autocomplete>
              <ng-template ngFor let-error [ngForOf]="validacionesDomCl.catNacionalidad" ngProjectAs="mat-error">
                <mat-error *ngIf="formDomicilioCl.get('catNacionalidad').hasError(error.type)">
                  <strong> {{error.message}}</strong>
                </mat-error>
              </ng-template>
            </mat-form-field>
          </div>
          <!----- Filtro estado -------->
          <div class="col-md-4">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Estado</mat-label>
              <mat-icon matSuffix>map</mat-icon>
              <input type="text" placeholder="Nombre Estado" matInput formControlName="estado"
                [matAutocomplete]="autoECl">
              <mat-autocomplete autoActiveFirstOption #autoECl="matAutocomplete"
                (optionSelected)="opcionSeleccionadaE($event)" [displayWith]="mostrarEstado">
                <mat-option *ngFor="let option of opcionesEstado | async" [value]="option">
                  {{option.nombreEstado}}
                </mat-option>
              </mat-autocomplete>
              <ng-template ngFor let-error [ngForOf]="validacionesDomCl.estado" ngProjectAs="mat-error">
                <mat-error *ngIf="formDomicilioCl.get('estado').hasError(error.type)">
                  <strong> {{error.message}}</strong>
                </mat-error>
              </ng-template>
            </mat-form-field>
          </div>
          <!-------Filtro Ciudad -->
          <div class="col-md-4">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Ciudad</mat-label>
              <mat-icon matSuffix>map</mat-icon>
              <input type="text" placeholder="Nombre Ciudad" matInput formControlName="ciudad"
                [matAutocomplete]="autoCiudadDCl">
              <mat-autocomplete autoActiveFirstOption #autoCiudadDCl="matAutocomplete"
                (optionSelected)="opcionSelecCiudad($event)" [displayWith]="mostrarCd">
                <mat-option *ngFor="let option of opcionesCiudades | async" [value]="option">
                  {{option.nombre}}
                </mat-option>
              </mat-autocomplete>
              <ng-template ngFor let-error [ngForOf]="validacionesDomCl.ciudad" ngProjectAs="mat-error">
                <mat-error *ngIf="formDomicilioCl.get('ciudad').hasError(error.type)">
                  <strong> {{error.message}}</strong>
                </mat-error>
              </ng-template>
            </mat-form-field>
          </div>

          <!-- Nombre Colonia -->
          <div class="col-md-4">
            <mat-form-field class="full-width" appearance="outline">
              <mat-label>Colonia</mat-label>
              <mat-icon matSuffix>map</mat-icon>
              <input type="text" placeholder="Colonia" matInput formControlName="catColonia"
                [matAutocomplete]="autoColonias">
              <mat-autocomplete autoActiveFirstOption [displayWith]="displayFnColonias"
                (optionSelected)="opcionSelecCol($event)" #autoColonias="matAutocomplete">
                <mat-option *ngFor="let option of opcionesColonias | async" [value]="option">
                  {{option.nombrecolonia}}
                </mat-option>
              </mat-autocomplete>
              <ng-template ngFor let-error [ngForOf]="validacionesDomCl.catColonia" ngProjectAs="mat-error">
                <mat-error *ngIf="formDomicilioCl.get('catColonia').hasError(error.type)">
                  <strong> {{error.message}}</strong>
                </mat-error>
              </ng-template>
            </mat-form-field>
          </div>
          <!----   Filtro Localidad-->
          <div class="col-md-4">
            <mat-form-field class="full-width" appearance="fill">
              <mat-label>Localidad</mat-label>
              <mat-icon matSuffix>map</mat-icon>
              <input type="text" placeholder="Localidad" matInput formControlName="localidad">
            </mat-form-field>
          </div>
          <!--Se hace el campo de registro calle-->
          <div class="col-md-4">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Calle</mat-label>
              <input formControlName="calle" matInput placeholder="Calle">
              <mat-icon matSuffix>house</mat-icon>
              <ng-template ngFor let-error [ngForOf]="validacionesDomCl.calle" ngProjectAs="mat-error">
                <mat-error *ngIf="formDomicilioCl.get('calle').hasError(error.type)">
                  <strong> {{error.message}}</strong>
                </mat-error>
              </ng-template>
            </mat-form-field>
          </div>
          <!--Se hace el campo de registro entre calle 1-->
          <div class="col-md-4">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Entre Calle 1</mat-label>
              <input formControlName="entreCalle1" matInput placeholder="Entre calle 1">
              <mat-icon matSuffix>other_houses</mat-icon>
              <ng-template ngFor let-error [ngForOf]="validacionesDomCl.entreCalle1" ngProjectAs="mat-error">
                <mat-error *ngIf="formDomicilioCl.get('entreCalle1').hasError(error.type)">
                  <strong> {{error.message}}</strong>
                </mat-error>
              </ng-template>
            </mat-form-field>
          </div>

          <!--Se hace el campo de registro entre calle 2-->
          <div class="col-md-4">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Entre Calle 2</mat-label>
              <input formControlName="entreCalle2" matInput placeholder="Entre calle 2">
              <mat-icon matSuffix>other_houses</mat-icon>
              <ng-template ngFor let-error [ngForOf]="validacionesDomCl.entreCalle2" ngProjectAs="mat-error">
                <mat-error *ngIf="formDomicilioCl.get('entreCalle2').hasError(error.type)">
                  <strong> {{error.message}}</strong>
                </mat-error>
              </ng-template>
            </mat-form-field>
          </div>

          <!--Se hace el campo de registro de referencia -->
          <div class="col-md-4">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Referencia</mat-label>
              <input formControlName="referencia" matInput placeholder="A lado de...">
              <mat-icon matSuffix>description</mat-icon>
              <ng-template ngFor let-error [ngForOf]="validacionesDomCl.referencia" ngProjectAs="mat-error">
                <mat-error *ngIf="formDomicilioCl.get('referencia').hasError(error.type)">
                  <strong> {{error.message}}</strong>
                </mat-error>
              </ng-template>
            </mat-form-field>
          </div>
          <!--Se hace el campo de numero exterior-->
          <div class="col-md-2">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>N. Exterior</mat-label>
              <input formControlName="numeroExterior" matInput placeholder="N. Exterior">
              <mat-icon matSuffix>tag</mat-icon>
              <ng-template ngFor let-error [ngForOf]="validacionesDomCl.numeroExterior" ngProjectAs="mat-error">
                <mat-error *ngIf="formDomicilioCl.get('numeroExterior').hasError(error.type)">
                  <strong> {{error.message}}</strong>
                </mat-error>
              </ng-template>
            </mat-form-field>
          </div>
          <!--Se hace el campo de numero interior-->
          <div class="col-md-2">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>N. Interior</mat-label>
              <input formControlName="numeroInterior" matInput placeholder="N. Interior">
              <mat-icon matSuffix>tag</mat-icon>
            </mat-form-field>
          </div>
          <div class="col-md-2">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>C&oacute;digodigo postal</mat-label>
              <input formControlName="cp" matInput placeholder="CP">
              <mat-icon matSuffix>approval</mat-icon>
            </mat-form-field>
          </div>
          <!--Se hace el combo de registro de arraigo -->
          <div class="col-md-3">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Tiempo de Arraigo</mat-label>
              <mat-icon matSuffix>calendar_today</mat-icon>
              <mat-select formControlName="tiempoArraigo" name="tiempoArraigo">
                <mat-option *ngFor="let tiempoArraigo of listaTiempoArraigo" [value]="tiempoArraigo">
                  {{tiempoArraigo.cveGeneral}} / {{tiempoArraigo.descripcion}}
                </mat-option>
              </mat-select>
              <ng-template ngFor let-error [ngForOf]="validacionesDomCl.tiempoArraigo" ngProjectAs="mat-error">
                <mat-error *ngIf="formDomicilioCl.get('tiempoArraigo').hasError(error.type)">
                  <strong> {{error.message}}</strong>
                </mat-error>
              </ng-template>
            </mat-form-field>
          </div>

          <!--Se hace el campo de registro  latitud-->
          <div class="col-md-3">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Latitud</mat-label>
              <input formControlName="latitud" matInput placeholder="Latitud">
              <mat-icon matSuffix>location_on</mat-icon>
            </mat-form-field>
          </div>

          <!--Se hace el campo de registro entre longitud-->
          <div class="col-md-3">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Longitud</mat-label>
              <input formControlName="longitud" matInput placeholder="Longitud">
              <mat-icon matSuffix>location_on</mat-icon>
            </mat-form-field>
          </div>
          <!--Se hace el combo de otro  domicilio -->
          <div class="col-md-3">
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Domicilio</mat-label>
              <mat-icon matSuffix>class</mat-icon>
              <mat-select formControlName="jerarquia" name="jerarquia">
                <mat-option *ngFor="let nivel of listaJerarquia" [value]="nivel">
                  {{nivel.cveGeneral}} / {{nivel.descripcion}}
                </mat-option>
              </mat-select>
              <ng-template ngFor let-error [ngForOf]="validacionesDomCl.jerarquia" ngProjectAs="mat-error">
                <mat-error *ngIf="formDomicilioCl.get('jerarquia').hasError(error.type)">
                  <strong> {{error.message}}</strong>
                </mat-error>
              </ng-template>
            </mat-form-field>
          </div>
          <!--Se hace el campo de registro residencia extranjera-->
          <div class="col-md-3">
            <mat-slide-toggle formControlName="resExtranjera" color="primary">
              Recidencia Extranjera
            </mat-slide-toggle>
          </div>

          <div class="col-md-3">
            <button mat-raised-button (click)="otroDomicilio()" color="primary">
              Agregar domicilio
            </button>
          </div>
        </div>
        <!--row-->
      </form>
      <div *ngIf="listAddDom.length>0" id="tbl-Domiclios">
        <h2 class="text-center col-12"><strong> Domicilios </strong></h2>
        <mat-divider class="col-12"> </mat-divider>
        <br>
        <div class="mat-elevation-z8 ">
          <table aria-label="Domicilio">
            <thead>
              <tr>
                <th id="Consecutivo">No.</th>
                <th id="Calle">Calle</th>
                <th id="Exterior">No. Exterior</th>
                <th id="Interior">No. Interior</th>
                <th id="Calle">Entre calle </th>
                <th id="Calle dos">y calle</th>
                <th id="Referencia">Referencia</th>
                <th id="AccionesRealizar">Acciones</th>
              </tr>
            </thead>
            <!--Cuerpo tbl-->
            <tbody id="cuerpoTblDom">
              <tr *ngFor="let dom of listAddDom;  let i=index;">
                <td>{{i+1}}</td>
                <td>{{dom[1]}}</td>
                <td>{{dom[2]}}</td>
                <td>{{dom[3]}}</td>
                <td>{{dom[4]}}</td>
                <td>{{dom[5]}}</td>
                <td>{{dom[6]}}</td>
                <td>
                  <button *ngIf="sujetoID == 0" (click)="quitarDomicilio(i)" mat-mini-fab color="warn"
                    aria-label="Eliminar domicilio">
                    <mat-icon>delete</mat-icon>
                  </button>
                  <button *ngIf="sujetoID > 0" (click)="editarDomicilio(i)" mat-mini-fab color="primary"
                    aria-label="Editar domicilio">
                    <mat-icon>edit</mat-icon>
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <!--Tabla de domicilios-->
    </mat-tab>
    <mat-tab label="Perfil transaccional">
      <mat-tab-group backgroundColor="primary" mat-align-tabs="start">
        <mat-tab label="Informaci&oacute;n">
          <br>
          <form [formGroup]="formPerfilTransacional">
            <div class="row">
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Actividad que Realiza</mat-label>
                  <mat-select formControlName="actividadRealiza" name="actividadRealiza"
                    (selectionChange)="SeleccionActRealiza($event)">
                    <mat-option *ngFor="let actividadRealiza of listaActividadRealiza" [value]="actividadRealiza">
                      {{actividadRealiza.descripcion}}
                    </mat-option>
                  </mat-select>
                  <mat-icon matSuffix>work</mat-icon>
                  <ng-template ngFor let-error [ngForOf]="validacionesPerfil.actividadRealiza" ngProjectAs="mat-error">
                    <mat-error *ngIf="formPerfilTransacional.get('actividadRealiza').hasError(error.type)">
                      <strong> {{error.message}}</strong>
                    </mat-error>
                  </ng-template>
                </mat-form-field>
              </div>

              <div class="col-md-9">
                <mat-checkbox class="example-margin" [formControl]="actEmpresarial" color="warn">
                  ¿Es persona F&iacute;sica con Actividad Empresarial?
                </mat-checkbox>
              </div>
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>No. Dependientes Economicos</mat-label>
                  <input matInput formControlName="numDependientes" placeholder="No. Dependientes Economicos">
                  <mat-icon matSuffix>family_restroom</mat-icon>
                  <ng-template ngFor let-error [ngForOf]="validacionesPerfil.numDependientes" ngProjectAs="mat-error">
                    <mat-error *ngIf="formPerfilTransacional.get('numDependientes').hasError(error.type)">
                      <strong> {{error.message}}</strong>
                    </mat-error>
                  </ng-template>
                </mat-form-field>
              </div>
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Estado Civil</mat-label>
                  <mat-select formControlName="estado_civil" name="estado_civil">
                    <mat-option *ngFor="let estado_civil of listaEstCivil" [value]="estado_civil">
                      {{estado_civil.descripcion}}
                    </mat-option>
                  </mat-select>
                  <mat-icon matSuffix>attachment</mat-icon>
                  <ng-template ngFor let-error [ngForOf]="validacionesPerfil.estado_civil" ngProjectAs="mat-error">
                    <mat-error *ngIf="formPerfilTransacional.get('estado_civil').hasError(error.type)">
                      <strong> {{error.message}}</strong>
                    </mat-error>
                  </ng-template>
                </mat-form-field>
              </div>
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Regimen Matrimonial</mat-label>
                  <mat-select formControlName="regimenMatrimonial" name="regimenMatrimonial">
                    <mat-option *ngFor="let regimenMatrimonial of listaRegimenMatrimonial" [value]="regimenMatrimonial">
                      {{regimenMatrimonial.descripcion}}
                    </mat-option>
                  </mat-select>
                  <mat-icon matSuffix>domain_disabled</mat-icon>
                  <ng-template ngFor let-error [ngForOf]="validacionesPerfil.regimenMatrimonial" ngProjectAs="mat-error">
                    <mat-error *ngIf="formPerfilTransacional.get('regimenMatrimonial').hasError(error.type)">
                      <strong> {{error.message}}</strong>
                    </mat-error>
                  </ng-template>
                </mat-form-field>
              </div>
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Nivel Estudios Academicos</mat-label>
                  <mat-select formControlName="nivelEstudios" name="nivelEstudios">
                    <mat-option *ngFor="let nivelEstudios of listaNivelEscolar" [value]="nivelEstudios">
                      {{nivelEstudios.descripcion}}
                    </mat-option>
                  </mat-select>
                  <mat-icon matSuffix>school</mat-icon>
                  <ng-template ngFor let-error [ngForOf]="validacionesPerfil.nivelEstudios" ngProjectAs="mat-error">
                    <mat-error *ngIf="formPerfilTransacional.get('nivelEstudios').hasError(error.type)">
                      <strong> {{error.message}}</strong>
                    </mat-error>
                  </ng-template>
                </mat-form-field>
              </div>
              <div class="col-md-2">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Tipo Vivienda</mat-label>
                  <mat-select formControlName="tipoVivienda" name="tipoVivienda">
                    <mat-option *ngFor="let tipoVivienda of listaTipoVivienda" [value]="tipoVivienda">
                      {{tipoVivienda.descripcion}}
                    </mat-option>
                  </mat-select>
                  <mat-icon matSuffix>holiday_village</mat-icon>
                  <ng-template ngFor let-error [ngForOf]="validacionesPerfil.tipoVivienda" ngProjectAs="mat-error">
                    <mat-error *ngIf="formPerfilTransacional.get('tipoVivienda').hasError(error.type)">
                      <strong> {{error.message}}</strong>
                    </mat-error>
                  </ng-template>
                </mat-form-field>
              </div>
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Profesi&oacute;n</mat-label>
                  <mat-icon matSuffix>work</mat-icon>
                  <input type="text" placeholder="Ocupacion" matInput formControlName="profesion"
                    [matAutocomplete]="ocupacionSINCOP">
                  <mat-autocomplete autoActiveFirstOption #ocupacionSINCOP="matAutocomplete"
                    [displayWith]="mostrarOcupacion">
                    <mat-option *ngFor="let option of opcionesProfesion | async" [value]="option">
                      {{option.descripcion}}
                    </mat-option>
                    <ng-template ngFor let-error [ngForOf]="validacionesPerfil.profesion" ngProjectAs="mat-error">
                      <mat-error *ngIf="formPerfilTransacional.get('profesion').hasError(error.type)">
                        <strong> {{error.message}}</strong>
                      </mat-error>
                    </ng-template>
                  </mat-autocomplete>
                </mat-form-field>
              </div>
              <!--detalle aval-->
              <div class="col-md-2">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Porcentaje</mat-label>
                  <input matInput formControlName="porcentaje" placeholder="%">
                  <mat-icon matSuffix>percent</mat-icon>
                  <ng-template ngFor let-error [ngForOf]="validacionesPerfil.porcentaje" ngProjectAs="mat-error">
                    <mat-error *ngIf="formPerfilTransacional.get('porcentaje').hasError(error.type)">
                      <strong> {{error.message}}</strong>
                    </mat-error>
                  </ng-template>
                </mat-form-field>
              </div>
              <div class="col-md-2">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Parentesco</mat-label>
                  <mat-select formControlName="parentesco" name="parentesco">
                    <mat-option *ngFor="let parent of listaParentesco" [value]="parent">
                      {{parent.descripcion}}
                    </mat-option>
                  </mat-select>
                  <mat-icon matSuffix>attachment</mat-icon>
                  <ng-template ngFor let-error [ngForOf]="validacionesPerfil.parentesco" ngProjectAs="mat-error">
                    <mat-error *ngIf="formPerfilTransacional.get('parentesco').hasError(error.type)">
                      <strong> {{error.message}}</strong>
                    </mat-error>
                  </ng-template>
                </mat-form-field>
              </div>
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Tiempo de conocerlo</mat-label>
                  <mat-icon matSuffix>calendar_today</mat-icon>
                  <mat-select formControlName="tiempoConocerlo" name="tiempoConocerlo">
                    <mat-option *ngFor="let tiempo of listaTiempoArraigo" [value]="tiempo">
                      {{tiempo.cveGeneral}} / {{tiempo.descripcion}}
                    </mat-option>
                  </mat-select>
                  <ng-template ngFor let-error [ngForOf]="validacionesPerfil.tiempoConocerlo" ngProjectAs="mat-error">
                    <mat-error *ngIf="formPerfilTransacional.get('tiempoConocerlo').hasError(error.type)">
                      <strong> {{error.message}}</strong>
                    </mat-error>
                  </ng-template>
                </mat-form-field>
              </div>
              <!--detalle termina-->
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                    <mat-label>Calificaci&oacute;n Buro</mat-label>
                    <mat-icon matSuffix>list</mat-icon>
                    <mat-select formControlName="calBuro"
                        name="calificacionBuro" matTooltip="Nulo - Cuenta sin Información o Muy reciente para ser calificada.                                                                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                            Excelente - Cuenta al corriente, 0 días de atraso.
                                                            &nbsp;&nbsp;&nbsp;&nbsp;
                                                            Muy Bueno -  Cuenta con atraso de 1 a 29 días.
                                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                            Bueno - Cuenta con atraso de 30 a 59 días.
                                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                            Regular - Cuenta con atraso de 60 a 89 días.
                                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                            &nbsp;&nbsp;&nbsp;&nbsp;
                                                            Malo - Cuenta con atraso de 90 a 119 días.
                                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                                            &nbsp;&nbsp;&nbsp;&nbsp;
                                                            Pésimo - Cuenta con atraso más 120 días de atraso.">
                        <mat-option
                            *ngFor="let calificacionBuro of listaCalificacionBuro"
                            [value]="calificacionBuro">
                            {{calificacionBuro.descripcion}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="col-md-3">
                <p>
                    <mat-form-field appearance="outline"
                        class="full-width">
                        <mat-label>Consulta Buro</mat-label>
                        <input matInput [matDatepicker]="fNBuro"
                            formControlName="consultaBuro">
                        <mat-datepicker-toggle matSuffix [for]="fNBuro"></mat-datepicker-toggle>
                        <mat-datepicker #fNBuro disabled="false"></mat-datepicker>
                    </mat-form-field>
                </p>
            </div>
            <div class="col-md-3">
              <mat-form-field appearance="outline" class="full-width">
                  <mat-label>No. Folio SIC.</mat-label>
                  <input formControlName="noFolioSIC" matInput
                      placeholder="No. Folio SIC.">
                  <mat-icon matSuffix><span
                          class="material-icons-outlined">vpn_key</span>
                  </mat-icon>
              </mat-form-field>
          </div>
            </div>
          </form>
          <form [formGroup]="formBienes">
            <div class="row">
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Bienes Materiales</mat-label>
                  <mat-select formControlName="bienesMateriales" (selectionChange)="tipoBienSeleccion($event)"
                    name="bienesMateriales">
                    <mat-option *ngFor="let bienesMateriales of listaTipoBien" [value]="bienesMateriales">
                      {{bienesMateriales.descripcion}}
                    </mat-option>
                  </mat-select>
                  <mat-icon matSuffix>emoji_transportation</mat-icon>
                </mat-form-field>
              </div>
              <div class="col-md-2">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Valor Aprox $</mat-label>
                  <input matInput formControlName="valor_aprox" placeholder="Valor aprox $">
                  <mat-icon matSuffix>request_quote</mat-icon>
                </mat-form-field>
              </div>
              <div [hidden]="!mostrarEscritura" class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>No. Escritura-Factura</mat-label>
                  <input matInput formControlName="num_escritura_factura" placeholder="No. Escritura-Factura">
                  <mat-icon matSuffix>abc</mat-icon>
                </mat-form-field>
              </div>
              <div [hidden]="!mostrarAuto" class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Modelo</mat-label>
                  <input matInput formControlName="modelo" placeholder="Modelo">
                  <mat-icon matSuffix>pin</mat-icon>
                </mat-form-field>
              </div>
              <div [hidden]="!mostrarAuto" class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Marca</mat-label>
                  <input matInput formControlName="marca" placeholder="Marca">
                  <mat-icon matSuffix>garage</mat-icon>
                </mat-form-field>
              </div>
              <div [hidden]="!mostrarOtroBien" class="col-md-8">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Otros Bienes</mat-label>
                  <input matInput formControlName="otrobien" placeholder="otrobien">
                  <mat-icon matSuffix>request_quote</mat-icon>
                </mat-form-field>
              </div>
              <!--Boton para agregar bienes a una lista "-->
              <div class="col-md-1">
                <div class="form-group">
                  <label></label>
                  <button mat-mini-fab color="primary" (click)="addListBienes()" aria-hidden="true">
                    <mat-icon>plus_one</mat-icon>
                  </button>
                </div>
              </div>
              <div class="col-md-12 b" *ngIf="listAddBienes.length > 0">
                <h3 class="text-center">Bienes Agregados</h3>
                <mat-selection-list [multiple]="false">
                  <mat-list-option *ngFor="let v_bienes of listAddBienes   let i=index;" [value]="v_bienes">
                    <div class="row" *ngIf="v_bienes[8] === '33CS' || v_bienes[8] === '33TR' || v_bienes[8] === '33DP'">
                      <div class="col-9">
                        Bien: {{v_bienes[7]}}, Monto: {{v_bienes[2] | currency}}, Escritura: {{v_bienes[3]}}
                      </div>
                      <div class="col-3">
                        <button *ngIf="sujetoID == 0" mat-mini-fab aria-label="delete" (click)="quitarBien(i)"
                          aria-hidden="true" color="warn">
                          <mat-icon matSuffix>delete</mat-icon>
                        </button>
                        <button *ngIf="sujetoID > 0" (click)="editarBien(i)" mat-mini-fab color="primary"
                          aria-label="Editar">
                          <mat-icon>edit</mat-icon>
                        </button>
                      </div>
                    </div>
                    <div class="row" *ngIf="v_bienes[8] === '33AU' ">
                      <div class="col-9">
                        Bien: {{v_bienes[7]}}, Monto: {{v_bienes[2] | currency}}, Modelo: {{v_bienes[4]}}, Marca:
                        {{v_bienes[5]}}
                      </div>
                      <div class="col-3">
                        <button *ngIf="sujetoID == 0" mat-mini-fab aria-label="delete" (click)="quitarIngreso(i)"
                          aria-hidden="true" color="warn">
                          <mat-icon matSuffix>delete</mat-icon>
                        </button>
                        <button *ngIf="sujetoID > 0" (click)="editarBien(i)" mat-mini-fab color="primary"
                          aria-label="Editar">
                          <mat-icon>edit</mat-icon>
                        </button>
                      </div>
                    </div>
                    <div class="row" *ngIf="v_bienes[8] === '33OT' ">
                      <div class="col-9">
                        Bien: {{v_bienes[7]}}, Monto: {{v_bienes[2] | currency}}, Descripci&oacute;n: {{v_bienes[6]}}
                      </div>
                      <div class="col-3">
                        <button *ngIf="sujetoID == 0" mat-mini-fab aria-label="delete" (click)="quitarIngreso(i)"
                          aria-hidden="true" color="warn">
                          <mat-icon matSuffix>delete</mat-icon>
                        </button>
                        <button *ngIf="sujetoID > 0" (click)="editarBien(i)" mat-mini-fab color="primary"
                          aria-label="Editar">
                          <mat-icon>edit</mat-icon>
                        </button>
                      </div>
                    </div>
                  </mat-list-option>
                </mat-selection-list>
              </div>
            </div>
          </form>
        </mat-tab>
        <mat-tab label="Ingresos y Egresos">
          <br>
          <br>
          <div class="row">
            
            <div class="col-md-6">
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Periodo de Ingresos</mat-label>
                <mat-select [formControl]="tipoPlazo">
                  <mat-option *ngFor="let tipoPlazo of listaTipoPlazo" [value]="tipoPlazo">
                    {{tipoPlazo.descripcion}}
                  </mat-option>
                </mat-select>
                <mat-icon matSuffix>date_range</mat-icon>
                <ng-template ngFor let-error [ngForOf]="validacionesPerfil.tipoPlazo" ngProjectAs="mat-error">
                  <mat-error *ngIf="tipoPlazo.hasError(error.type)">
                    <strong> {{error.message}}</strong>
                  </mat-error>
                </ng-template>
              </mat-form-field>
            </div>
            <div class="col-md-6">
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Origen de los Ingresos</mat-label>
                <mat-select [formControl]="origenIngreso">
                  <mat-option *ngFor="let origenIngreso of listaOrigenIngresos" [value]="origenIngreso">
                    {{origenIngreso.descripcion}}
                  </mat-option>
                </mat-select>
                <mat-icon matSuffix>outbox</mat-icon>
                <ng-template ngFor let-error [ngForOf]="validacionesPerfil.origenIngreso" ngProjectAs="mat-error">
                  <mat-error *ngIf="origenIngreso.hasError(error.type)">
                    <strong> {{error.message}}</strong>
                  </mat-error>
                </ng-template>
              </mat-form-field>
            </div>
          </div>
          <div class="row">
            <div class="a col-md-6">
              <h3><strong>Ingresos</strong></h3>
              <hr>
              <form [formGroup]="formIngresos">
                <div class="row">
                  <div class="col-md-6 pr-1">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Tipo Ingreso</mat-label>
                      <mat-select formControlName="ingreso" name="ingreso">
                        <mat-option *ngFor="let ingreso of listaTipoIngreso" [value]="ingreso">
                          {{ingreso.descripcion}}
                        </mat-option>
                      </mat-select>
                      <mat-icon matSuffix>format_list_bulleted</mat-icon>
                      <ng-template ngFor let-error [ngForOf]="validacionesPerfil.ingreso" ngProjectAs="mat-error">
                        <mat-error *ngIf="formIngresos.get('ingreso').hasError(error.type)">
                          <strong> {{error.message}}</strong>
                        </mat-error>
                      </ng-template>
                    </mat-form-field>
                  </div>
                  <div class="col-md-4 pr-1">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Monto</mat-label>
                      <input matInput formControlName="monto_ingreso" placeholder="Monto Ingreso">
                      <mat-icon matSuffix>money</mat-icon>
                      <ng-template ngFor let-error [ngForOf]="validacionesPerfil.monto_ingreso" ngProjectAs="mat-error">
                        <mat-error *ngIf="formIngresos.get('monto_ingreso').hasError(error.type)">
                          <strong> {{error.message}}</strong>
                        </mat-error>
                      </ng-template>
                    </mat-form-field>
                  </div>
                  <div class="col-md-2 pr-1">
                    <div class="form-group">
                      <label></label>
                      <button mat-mini-fab color="primary" (click)="addListIngreso()" aria-hidden="true">
                        <mat-icon>plus_one</mat-icon>
                      </button>
                    </div>
                  </div>
                </div>
              </form>
              <div class="b" *ngIf="listAddIngreso.length > 0">
                <h3 class="text-center">Ingresos Agregados</h3>
                <mat-selection-list [multiple]="false">
                  <mat-list-option *ngFor="let v_ingreso of listAddIngreso  let i=index;" [value]="v_ingreso">
                    <div class="row">
                      <div class="col-9">
                        {{v_ingreso[1]}}, ${{v_ingreso[2]}}
                      </div>
                      <div class="col-3">
                        <button *ngIf="sujetoID == 0" mat-mini-fab aria-label="delete" (click)="quitarIngreso(i)"
                          aria-hidden="true" color="warn">
                          <mat-icon matSuffix>delete</mat-icon>
                        </button>
                        <button *ngIf="sujetoID > 0" mat-mini-fab aria-label="edit" (click)="editarIngreso(i)"
                          aria-hidden="true" color="primary">
                          <mat-icon matSuffix>edit</mat-icon>
                        </button>
                      </div>
                    </div>
                  </mat-list-option>
                </mat-selection-list>
              </div>
            </div>
            <div class="a col-md-6">
              <h3><strong>Egresos</strong></h3>
              <hr>
              <form [formGroup]="formEgresos">
                <div class="row">
                  <div class="col-md-6 pr-1">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Tipo Egreso</mat-label>
                      <mat-select formControlName="tipo_egreso" name="tipo_egreso">
                        <mat-option *ngFor="let tipo_egreso of listaTipoEgreso" [value]="tipo_egreso">
                          {{tipo_egreso.descripcion}}
                        </mat-option>
                      </mat-select>
                      <mat-icon matSuffix>format_list_bulleted</mat-icon>
                      <ng-template ngFor let-error [ngForOf]="validacionesPerfil.tipo_egreso" ngProjectAs="mat-error">
                        <mat-error *ngIf="formEgresos.get('tipo_egreso').hasError(error.type)">
                          <strong> {{error.message}}</strong>
                        </mat-error>
                      </ng-template>
                    </mat-form-field>
                  </div>
                  <div class="col-md-4 pr-1">
                    <mat-form-field appearance="outline" class="full-width">
                      <mat-label>Monto</mat-label>
                      <input matInput formControlName="monto_egreso" placeholder="Monto Egreso">
                      <mat-icon matSuffix>money</mat-icon>
                      <ng-template ngFor let-error [ngForOf]="validacionesPerfil.monto_egreso" ngProjectAs="mat-error">
                        <mat-error *ngIf="formEgresos.get('monto_egreso').hasError(error.type)">
                          <strong> {{error.message}}</strong>
                        </mat-error>
                      </ng-template>
                    </mat-form-field>
                  </div>
                  <div class="col-md-2 pr-1">
                    <div class="form-group">
                      <label></label>
                      <button mat-mini-fab color="primary" (click)="addListEgreso()" aria-hidden="true">
                        <mat-icon>plus_one</mat-icon>
                      </button>
                    </div>
                  </div>
                </div>
              </form>

              <div class="b" *ngIf="listAddEgreso.length > 0">
                <h3 class="text-center">Egresos Agregados</h3>
                <mat-selection-list [multiple]="false">
                  <mat-list-option *ngFor="let v_tipo_egreso of listAddEgreso let i=index;" [value]="v_tipo_egreso">
                    <div class="row">
                      <div class="col-9">
                        {{v_tipo_egreso[1]}}, ${{v_tipo_egreso[2]}}
                      </div>
                      <div class="col-3">
                        <button *ngIf="sujetoID == 0" mat-mini-fab aria-label="delete" (click)="quitarEgreso(i)"
                          aria-hidden="true" color="warn">
                          <mat-icon matSuffix>delete</mat-icon>
                        </button>
                        <button *ngIf="sujetoID > 0" mat-mini-fab aria-label="edit" (click)="editarEgreso(i)"
                          aria-hidden="true" color="primary">
                          <mat-icon matSuffix>edit</mat-icon>
                        </button>
                      </div>
                    </div>
                  </mat-list-option>
                </mat-selection-list>
              </div>
            </div>
          </div>
        </mat-tab>
        <!--Inicia Formulario para empleo del perfil transaccional-->
        <mat-tab *ngIf="ocultarFormEmpleoCl" label="Empleo">
          <br>
          <form [formGroup]="formEmpleoCl">
            <div class="row">
              <div class="col-4">
                <mat-form-field class="full-width" appearance="outline">
                  <mat-label>Empresa</mat-label>
                  <mat-icon matSuffix>apartment</mat-icon>
                  <input type="text" placeholder="Empresa" matInput formControlName="empresaTCl"
                    [matAutocomplete]="empresaTCl">
                  <mat-autocomplete autoActiveFirstOption [displayWith]="mostrarEmpresaCl"
                    (optionSelected)="opcionEmpresaCliente($event)" #empresaTCl="matAutocomplete">
                    <mat-option *ngFor="let optione of opcionesEmpresaCL | async" [value]="optione">
                      {{optione.nombreComercial}}
                    </mat-option>
                  </mat-autocomplete>
                  <ng-template ngFor let-error [ngForOf]="validacionesPerfil.empresaTCl" ngProjectAs="mat-error">
                    <mat-error *ngIf="formEmpleoCl.get('empresaTCl').hasError(error.type)">
                      <strong> {{error.message}}</strong>
                    </mat-error>
                  </ng-template>
                </mat-form-field>
              </div>
              <!--Agregar otra empresa para el cliente-->
              <div class="col-md-8">
                <button mat-mini-fab (click)="buscar(2)" color="primary">
                  <mat-icon matTooltip="Agregar empresa"> add_business </mat-icon>
                </button>
              </div>
              <div class="col-md-4">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Razon Social de la empresa</mat-label>
                  <textarea formControlName="razonsocialCl" [readonly]="true" matInput placeholder=""></textarea>
                </mat-form-field>
              </div>
              <div class="col-md-4">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>RFC</mat-label>
                  <input formControlName="rfcEmpresaCl" [readonly]="true" matInput placeholder="">
                  <mat-icon matSuffix>business</mat-icon>
                </mat-form-field>
              </div>
              <div class="col-md-4">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Representante</mat-label>
                  <input formControlName="repEmpresa" [readonly]="true" matInput placeholder="">
                  <mat-icon matSuffix>emoji_people</mat-icon>
                </mat-form-field>
              </div>
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Contrato</mat-label>
                  <mat-select formControlName="contratoEmCl">
                    <mat-option *ngFor="let contrato of listaContrato" [value]="contrato">
                      {{contrato.descripcion}}
                    </mat-option>
                  </mat-select>
                  <mat-icon matSuffix>gavel</mat-icon>
                  <ng-template ngFor let-error [ngForOf]="validacionesPerfil.contratoEmCl" ngProjectAs="mat-error">
                    <mat-error *ngIf="formEmpleoCl.get('contratoEmCl').hasError(error.type)">
                      <strong> {{error.message}}</strong>
                    </mat-error>
                  </ng-template>
                </mat-form-field>
              </div>
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Inicio a laborar</mat-label>
                  <input formControlName="inicioLaborar" [matDatepicker]="inicioL" matInput placeholder="">
                  <mat-datepicker-toggle matSuffix [for]="inicioL"></mat-datepicker-toggle>
                 <mat-datepicker #inicioL disabled="false"></mat-datepicker>
                 <ng-template ngFor let-error [ngForOf]="validacionesPerfil.inicioLaborar" ngProjectAs="mat-error">
                  <mat-error *ngIf="formEmpleoCl.get('inicioLaborar').hasError(error.type)">
                    <strong> {{error.message}}</strong>
                  </mat-error>
                 </ng-template>
                </mat-form-field>
              </div>
              <!--Segunda fila empleo-->
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Horario de entrada</mat-label>
                  <input formControlName="entradaCl" type="time" matInput placeholder="">
                </mat-form-field>
              </div>
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Horario de salida</mat-label>
                  <input formControlName="salidaCl" matInput type="time" placeholder="">
                </mat-form-field>
              </div>
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Ocupaci&oacute;n</mat-label>
                  <mat-icon matSuffix>work</mat-icon>
                  <input type="text" placeholder="Ocupacion" matInput formControlName="ocupacionCl"
                    [matAutocomplete]="ocupacionSINCOCl">
                  <mat-autocomplete autoActiveFirstOption #ocupacionSINCOCl="matAutocomplete"
                    [displayWith]="mostrarOcupacion">
                    <mat-option *ngFor="let option of opcionesSINCOCL | async" [value]="option">
                      {{option.descripcion}}
                    </mat-option>
                    <ng-template ngFor let-error [ngForOf]="validacionesPerfil.ocupacionCl" ngProjectAs="mat-error">
                      <mat-error *ngIf="formEmpleoCl.get('ocupacionCl').hasError(error.type)">
                        <strong> {{error.message}}</strong>
                      </mat-error>
                    </ng-template>
                  </mat-autocomplete>
                </mat-form-field>
              </div>
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Observaciones</mat-label>
                  <textarea formControlName="descripcion" matInput placeholder=""></textarea>
                  <mat-icon matSuffix>description</mat-icon>
                </mat-form-field>
              </div>
              <!--Se hace el combo de otro  Empleo-->
              <div class="col-md-3">
                <mat-form-field appearance="outline" class="full-width">
                  <mat-label>Empleo</mat-label>
                  <mat-icon matSuffix>class</mat-icon>
                  <mat-select formControlName="jerarquiaEmpCl" name="jerarquiaEmpCl">
                    <mat-option *ngFor="let nivel of listaJerarquia" [value]="nivel">
                      {{nivel.cveGeneral}} / {{nivel.descripcion}}
                    </mat-option>
                  </mat-select>
                  <ng-template ngFor let-error [ngForOf]="validacionesPerfil.jerarquiaEmpCl" ngProjectAs="mat-error">
                    <mat-error *ngIf="formEmpleoCl.get('jerarquiaEmpCl').hasError(error.type)">
                      <strong> {{error.message}}</strong>
                    </mat-error>
                  </ng-template>
                </mat-form-field>
              </div>
              <div class="col-md-3">
                <button mat-raised-button (click)="otroEmpleoCl()" color="primary">
                  Agregar Empleo
                </button>
              </div>
              <br>
              <!--Row-->
            </div>
          </form>

          <div *ngIf="listAddEmp.length > 0" id="tbl-Empleos">
            <h2 class="text-center col-12"><strong>Empleos</strong></h2>
            <mat-divider class="col-12"></mat-divider>
            <br>
            <div class="mat-elevation-z8">
              <table aria-label="Empleo">
                <thead>
                  <tr>
                    <th id="numero">No.</th>
                    <th id="razonSocial"> Raz&oacute;n Social</th>
                    <th id="rfc">RFC </th>
                    <th id="repre">Representante</th>
                  </tr>
                </thead>
                <!--Cuerpo Tabla -->
                <tbody id="CuerpoTblEmp">
                  <tr *ngFor="let emp of listAddEmp; let i= index;">
                    <td>{{i+1}}</td>
                    <td>{{emp[10]}}</td>
                    <td>{{emp[9]}}</td>
                    <td>{{emp[11]}}</td>
                    <td> <button *ngIf="sujetoID == 0" (click)="quitarEmpleoCl(i)" mat-mini-fab color="warn"
                        aria-label="Eliminar Empleo">
                        <mat-icon>delete</mat-icon>
                      </button>
                      <button *ngIf="sujetoID > 0" (click)="editarEmpleoCl(i)" mat-mini-fab color="primary"
                        matTooltip="Editar empresa" aria-label="Editar Empleo">
                        <mat-icon>edit</mat-icon>
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </mat-tab>
        <!--Finaliza formulario para empleo del perfil transaccional-->
      </mat-tab-group>
    </mat-tab>
    <mat-tab label="Digitalizaci&oacute;n" *ngIf="listaDocsGar.length > 0">
      <br>
      <div class="row">
        <div class="col-md-6" >
          <h2 class="text-center col-12"> Documentos a Digitalizar</h2>
          <mat-selection-list [multiple]="false">
            <mat-list-option *ngFor="let documentos of listaDocsGar" [value]="documentos">
              <div class="row">
                <div class="col-10">
                  {{documentos.descripcion}}
                </div>
                <div class="col-2">
                  <input #digiInput hidden="true" type="file" [accept]="acceptFormatos(documentos)"
                    (change)="subirArchivo($event,documentos)" />
                  <button (click)="digiInput.click()" mat-mini-fab color="primary">
                    <mat-icon>file_upload</mat-icon>
                  </button>
                </div>
              </div>
            </mat-list-option>
          </mat-selection-list>
        </div>
        <div class="col-md-6" *ngIf="listaDocAgregados.length > 0">
          <h2 class="text-center col-12"> Documentos Digitalizados</h2>
          <mat-selection-list [multiple]="false">
            <mat-list-option *ngFor="let documentos of listaDocAgregados" [value]="documentos">
              <div class="row">
                <div class="col-10">
                  {{documentos[3]}}
                </div>
                <div class="col-2">
                  <button mat-mini-fab color="primary" (click)="mostrarDoc(documentos)">
                    <mat-icon>visibility</mat-icon>
                  </button>
                </div>
              </div>
            </mat-list-option>
          </mat-selection-list>
        </div>
      </div>
    </mat-tab>
  </mat-tab-group>
  <!--Se hacen los botones y se manda llamar el método de crudAsignaDocumento()-->
</mat-dialog-content>
<mat-dialog-actions align="end">
  <button mat-raised-button mat-dialog-close color="warn">Cancelar</button>
</mat-dialog-actions>